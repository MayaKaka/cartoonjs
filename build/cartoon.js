define("base",["require"],function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},Array.prototype.forEach=function(t){for(var e=0,i=this.length;i>e;e++)t(this[e],e)});var t=function(t,e){1===arguments.length&&(e=t,t=this);for(var i in e)t[i]=e[i]},e=function(t,e){return Math.round(Math.random()*(e-t))+t},i=function(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.body,e=document.documentElement;return{width:Math.min(t.clientWidth,e.clientWidth),height:Math.min(t.clientHeight,e.clientHeight)}},n=function(t){this._renderMode="canvas"===t||1===t?1:0};return{_renderMode:0,extend:t,random:e,getWinSize:i,setRenderMode:n}}),define("_0",["require"],function(){var t=function(){},e=!1,i=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;return t.extend=function(n){var s=this,r=this.prototype,a=function(){!e&&this.init&&this.init.apply(this,arguments)};s!==t&&(e=!0,a.prototype=new s),e=!1;var o=a.prototype;for(var h in n)o[h]="function"==typeof r[h]&&"function"==typeof n[h]&&i.test(n[h])?function(t,e){return function(){var i=this._super;this._super=r[t];var n=e.apply(this,arguments);return this._super=i,n}}(h,n[h]):n[h];return a.extend=arguments.callee,a},t}),define("_2",["require"],function(){"use strict";var t=function(){};return t._index=0,t._collection={},t.get=function(t,e,i){var n=t._tagIndex;n||(n=t._tagIndex=++this._index);var s="@"+n+":"+e,r=this._collection[s];return i&&(this._collection[s]=null),r},t.set=function(t,e,i){var n=t._tagIndex;n||(n=t._tagIndex=++this._index),this._collection["@"+n+":"+e]=i},t}),define("_1",["require","_0","_2"],function(t){"use strict";var e=t("_0"),i=t("_2"),n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout,s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,r=e.extend({fps:-1,interval:-1,_paused:!0,_timerId:null,_targets:null,init:function(t){t?(this.interval=t,this.fps=(1e3/t).toFixed(2)):(this.interval=16.67,this.fps=60),this._targets=[]},alive:function(){return!this._paused},start:function(){this._clearTimer(),this._paused=!1,this._setTimer()},stop:function(){this._clearTimer(),this._paused=!0},has:function(t){for(var e=this._targets,i=e.length-1;i>=0;i--)if(e[i]===t)return!0;return!1},add:function(t,e){t.update instanceof Function&&(t._ticker&&t._ticker.remove(t),t._ticker=this),this._targets.push(t),e&&i.set(this,"tick."+e,t)},remove:function(t){"string"==typeof t&&(t=i.get(this,"tick."+t,!0));for(var e=this._targets,n=e.length-1;n>=0;n--)if(e[n]===t){e.splice(n,1),t._ticker&&(t._ticker=null);break}},removeAll:function(){for(var t,e=this._targets;e.length;)t=e.pop(),t._ticker&&(t._ticker=null)},wait:function(t,e,i){var n=this,s=0,r=function(i){s+=i,s>=e&&(t(s),n.remove(r))};this.add(r,i)},loop:function(t,e,i){var n=0,s=function(i){n+=i,n>=e&&(t(n),n=0)};this.add(s,i)},_clearTimer:function(){this._timerId&&(s(this._timerId),this._timerId=null)},_setTimer:function(){var t,e,i,s,r,a,o=this,h=o.interval,l=n===window.setTimeout,u=.97*(h-1),c=[],d=function(){return(new Date).getTime()},f=function(){return l?!0:e?(i=d(),i-e>u?(e=i,!0):!1):(e=d(),!0)},p=function(){if(t){if(i=d(),s=i-t,t=i,c.push(s),c.length>=10){c.splice(0,5),r=0,a=c.length;for(var e=0;a>e;e++)r+=c[e];o.fps=Math.floor(1e3*a/r)}s>3*h&&(s=3*h)}else t=d(),s=h;o._execTick(s)},g=function(){f()&&p(),o._clearTimer(),o._paused||(o._timerId=n(g,h))};g()},_execTick:function(t){for(var e,i=this._targets,n=0,s=i.length;s>n&&!this._paused;n++)e=i[n],e&&(e.update instanceof Function?e.update(t):e instanceof Function&&e(t))}});return new r}),define("_3",["require","_0","_2"],function(t){"use strict";var e=t("_0"),i=t("_2"),n=e.extend({_listeners:null,on:function(t,e,n){this.addEventListener(t,e),n&&i.set(this,"event."+t+"."+n,e)},off:function(t,e){"string"==typeof e&&(e=i.get(this,"event."+t+"."+e,!0)),this.removeEventListener(t,e)},trigger:function(t){this.dispatchEvent(t)},addEventListener:function(t,e){this._listeners||(this._listeners={});var i=this._listeners,n=i[t];n||(n=i[t]=[]),-1===n.indexOf(e)&&n.push(e)},hasEventListener:function(t,e){if(!this._listeners)return!1;var i=this._listeners,n=i[t];return n?e?-1!==n.indexOf(e):n.length>0:!1},removeEventListener:function(t,e){if(this._listeners){var i=this._listeners,n=i[t];if(n)if(e){var s=n.indexOf(e);-1!==s&&n.splice(s,1)}else n.length>0&&(i[t]=[])}},dispatchEvent:function(t){if(this._listeners){var e=this._listeners,i=e[t.type];if(i){t.target=this;for(var n=0,s=i.length;s>n;n++)i[n].call(this,t)}}}});return n}),define("_5",["require","_3"],function(t){"use strict";var e=t("_3"),i=/^(http|https):\/\//,n=/\?(.*)=(.*)$/,s=/\.jpg$|\.png$|\.gif$/,r=/\.json$/,a=e.extend({_resPath:"",_version:"",_resources:null,_loadQueue:null,_loadQueueLength:-1,init:function(){this._resources={},this._loadQueue=[]},load:function(t){if(t instanceof Array){for(var e,i,n=this._loadQueueLength=t.length,a=0;n>a;a++)e=t[a],i=s.test(e)?"image":r.test(e)?"json":"text",this._loadQueue.push({type:i,url:e});n&&this._loadNext()}else{var o=t;"image"===o.type?this._loadImage(o):this._loadJson(o)}},setResPath:function(t){this._resPath=t},setVersion:function(t){this._version=t},getUrl:function(t){return i.test(t)||(t=this._resPath+t),!n.test(t)&&this._version&&(t=t+"?v="+this._version),t},has:function(t){return t in this._resources},get:function(t){return this._resources[t]},set:function(t,e){this._resources[t]=e},_loadComplete:function(t,e){var i=1;this._loadQueueLength&&(i=1-this._loadQueue.length/this._loadQueueLength,this.trigger({type:"progress",progress:i})),t.onload&&t.onload(e),1>i?this._loadNext():(this._loadQueueLength=0,this.trigger({type:"complete",file:e}))},_loadNext:function(){this.load(this._loadQueue.shift())},_loadImage:function(t){var e=this,i=new Image;i.src=this.getUrl(t.url),i.complete?e._loadComplete(t,i):i.onload=function(){e._loadComplete(t,i)},this.set(t.url,i)},_loadJson:function(t){var e,i,n=this,s=new XMLHttpRequest;s.onreadystatechange=function(){s.readyState===s.DONE&&(200===s.status||0===s.status)&&(i=s.responseText,i&&(e="json"===t.type?JSON.parse(i):i,n.set(t.url,e),n._loadComplete(t,e)))},s.open("GET",this.getUrl(t.url),!0),s.send(null)}});return new a}),define("_6",["require","_0"],function(t){"use strict";var e=t("_0"),i=e.extend({_data:null,init:function(){this._data={}},get:function(t){return this._data[t]},set:function(t,e){return this._data[t]=e,e}});return i.step=function(t,e){var i=e.pos,n=e.start,s=e.end,r=t._userData;for(var a in s)r[a]=(s[a]-n[a])*i+n[a]},i}),define("_7",["require","_0"],function(t){"use strict";var e=t("_0"),i=Math.PI/180,n=e.extend({a:1,b:0,c:0,d:1,tx:0,ty:0,append:function(t,e,i,n,s,r){var a=this.a,o=this.b,h=this.c,l=this.d,u=this.tx,c=this.ty;return this.a=t*a+e*h,this.b=t*o+e*l,this.c=i*a+n*h,this.d=i*o+n*l,this.tx=s*a+r*h+u,this.ty=s*o+r*l+c,this},appendMatrix:function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty),this},appendTransform:function(t,e,n,s,r,a,o){var h,l,u;return r%360?(h=r*i,l=Math.cos(h),u=Math.sin(h)):(l=1,u=0),a||o?(a*=i,o*=i,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,e),this.append(l*n,u*n,-u*s,l*s,0,0)):this.append(l*n,u*n,-u*s,l*s,t,e),this},identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},invert:function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(t*this.ty-e*s)/r,this},isIdentity:function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d}});return n}),define("_8",["require"],function(){"use strict";var t=document.createElement("div").style,e=""===t.webkitTransform?"webkit":""===t.WebkitTransform?"Webkit":""===t.msTransform?"ms":""===t.MozTransform?"Moz":"ct",i="ct"===e&&""===t.filter,n=navigator.userAgent.indexOf("MSIE 9.0")>0,s=function(t,e){return"Object3D"===t.type?g.styles3d[e]:p[e]||t.styles&&t.styles[e]},r=function(t,e,i){var n;if(n=e?{get:function(){return this[t][e]},set:function(i,n){this[t][e]=n}}:{get:function(){return this[t]},set:function(e,i){this[t]=i}},n.step=function(t,e){var i=e.pos,n=e.start,s=e.end;if("object"==typeof s){var r={};for(var a in s)r[a]=(s[a]-n[a])*i+n[a];return r}return(s-n)*i+n},i)for(var s in i)n[s]=i[s];return n},a=function(t,e){var i=s(t,e);return i&&i.init?i.init.call(t,e):void 0},o=function(t,e){var i=s(t,e);return i?i.get.call(t,e):void 0},h=function(t,e,i){var n=s(t,e);n&&(n.parse&&(i=n.parse.call(t,i)),n.set.call(t,e,i),0===t.renderMode&&n.css&&n.css.call(t,e,i))},l=function(t,e,i){var n=s(t,e);if(n&&n.step){n.parse&&(i.end=n.parse.call(t,i.end));var r=n.step.call(t,e,i);void 0!==r&&h(t,e,r)}},u=function(t,i,n){var s=i.charAt(0).toUpperCase()+i.substring(1,i.length);t[e+s]=n},c=function(t){var e={r:0,g:0,b:0,a:1};return t.indexOf("rgb")>-1?(t=t.replace(/rgb\(|rgba\(|\)/g,""),t=t.split(","),e.r=parseInt(t[0]),e.g=parseInt(t[1]),e.b=parseInt(t[2]),4===t.length&&(e.a=t[3])):t.indexOf("#")>-1&&(4===t.length?(e.r=t.substring(1,2),e.g=t.substring(2,3),e.b=t.substring(3,4),e.r=parseInt(e.r+e.r,16),e.g=parseInt(e.g+e.g,16),e.b=parseInt(e.b+e.b,16)):(e.r=parseInt(t.substring(1,3),16),e.g=parseInt(t.substring(3,5),16),e.b=parseInt(t.substring(5,7),16))),e},d=function(t){var e=t.r.toString(16),i=t.g.toString(16),n=t.b.toString(16);return 1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),1===n.length&&(n="0"+n),"#"+e+i+n},f=function(t,e,i){e=c(e),i=c(i);var n={};for(var s in i)n[s]=Math.floor((i[s]-e[s])*t+e[s]),n[s]=n[s]>255?255:n[s]<0?0:n[s];return d(n)},p={x:r("x",null,{css:function(t,e){var i=this.elemStyle;i.position="absolute",i.left=e+"px"}}),y:r("y",null,{css:function(t,e){var i=this.elemStyle;i.position="absolute",i.top=e+"px"}}),width:r("width",null,{css:function(t,e){this._useElemSize?this.elem.setAttribute("width",e):this.elemStyle.width=e+"px"}}),height:r("height",null,{css:function(t,e){this._useElemSize?this.elem.setAttribute("height",e):this.elemStyle.height=e+"px"}}),size:r("size",null,{get:function(){return{width:this.width,height:this.height}},set:function(t,e){void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height)},css:function(){if(this._useElemSize){var t=this.elem;t.setAttribute("width",this.width),t.setAttribute("height",this.height)}else{var e=this.elemStyle;e.width=this.width+"px",e.height=this.height+"px"}}}),transform:r("transform",null,{init:function(){return this.transform={translateX:0,translateY:0,rotate:0,scale:1,scaleX:1,scaleY:1,skewX:0,skewY:0,originX:.5,originY:.5},this.transform},get:function(t){return this.transform||a(this,t)},set:function(t,e){o(this,t);for(var i in e)this._updateTransform(i,e[i])},css:function(t,e){var n=this.elemStyle,s=this.transform;i?(n.marginLeft=s.translateX+"px",n.marginTop=s.translateY+"px"):(u(n,"transform",this._mergeTransformText()),("originX"in e||"originY"in e)&&u(n,"transformOrigin",100*s.originX+"% "+100*s.originY+"%"))}}),transform3d:r("transform3d",null,{init:function(){if(this.transform3d={perspective:0,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1,originX:.5,originY:.5,originZ:.5},0===this.renderMode){var t=this.elemStyle;u(t,"transformStyle","preserve-3d"),u(t,"backfaceVisibility","visible")}return this.transform3d},get:function(t){return this.transform3d||a(this,t)},set:function(t,e){o(this,t);for(var i in e)this._updateTransform3D(i,e[i])},css:function(t,e){var i=this.elemStyle,n=this.transform3d;u(i,"transform",this._mergeTransform3DText()),("originX"in e||"originY"in e||"originZ"in e)&&u(i,"transformOrigin",100*n.originX+"% "+100*n.originY+"%")}}),visible:r("visible",null,{css:function(t,e){this.elemStyle.display=e?"block":"none"}}),overflow:r("overflow",null,{css:function(t,e){this.elemStyle.overflow=e}}),alpha:r("alpha",null,{parse:function(t){return t>=0?t:0},css:function(t,e){var n=this.elemStyle;if(i){var s=n.filter,r=/alpha\(opacity=([^)]*)/,a="alpha(opacity="+100*e;n.filter=r.test(s)?s.replace(r,a):s+" "+a+")"}else n.opacity=e}}),shadow:r("shadow",null,{parse:function(t){return"string"==typeof t&&(t=t.split("px "),t={offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1]),blur:parseFloat(t[2]),color:t[3]}),t},css:function(){var t=this.shadow,e="Text"===this.type?"textShadow":"boxShadow";this.elemStyle[e]=t.color?t.offsetX+"px "+t.offsetY+"px "+t.blur+"px "+t.color:""}}),cursor:r("cursor",null,{css:function(t,e){this.elemStyle.cursor=e}})},g={isIE6_8:i,isIE9:n,newStyle:r,styles:p,init:a,get:o,set:h,step:l,stepColor:f};return g}),define("_9",["require","base","_3","_6","_7","_2","_8"],function(t){"use strict";var e=t("base"),i=t("_3"),n=t("_6"),s=t("_7"),r=t("_2"),a=t("_8"),o=document.createElement("div"),h=!!document.createElement("canvas").getContext,l=i.extend({type:"DisplayObject",x:0,y:0,width:0,height:0,visible:!0,overflow:"visible",alpha:1,shadow:null,cursor:"auto",transform:null,transform3d:null,parent:null,children:null,elem:null,elemStyle:null,renderMode:-1,blendMode:"source-over",mouseEnabled:!0,pixelHitTest:!1,_htmlText:"<div></div>",_updaters:null,_matrix2d:null,_userData:null,init:function(t){if(t||(t={}),this.renderMode=void 0!==t.render?t.render:e._renderMode,0===this.renderMode){var i=t.elem||this._htmlText;"string"==typeof i&&(/^<.+>$/.test(i)?(o.innerHTML=i,i=o.removeChild(o.firstChild)):i=document.querySelector&&document.querySelector(i)),this.elem=i,this.elem.displayObj=this,this.elemStyle=this.elem.style,window.jQuery&&(this.$=jQuery(this.elem))}else{var r=t.blendMode||t.blend;r&&(this.blendMode=r)}this.children=[],this._updaters=[],this._matrix2d=new s,this._userData=new n;for(var h in t)a.styles[h]&&this.style(h,t[h]);this.transform||a.init(this,"transform")},add:function(t,e){return this.addAt(t,"none",e),this},addAt:function(t,e,i){var n=this.children,s=this.elem,a=0===t.renderMode&&0===this.renderMode,o=a&&s.children[e];t.parent&&t.parent.remove(t),t.parent=this,e<n.length?this.children.splice(e,0,t):this.children.push(t),a&&(o?s.insertBefore(t.elem,o):s.appendChild(t.elem)),this._addUpdater(t),i&&r.set(this,"child."+i,t)},remove:function(t){if("string"==typeof t&&(t=r.get(this,"child."+t,!0)),t.parent===this){t.parent=null;var e=this.children,i=e.indexOf(t);e.splice(i,1),0===t.renderMode&&0===this.renderMode&&this.elem.removeChild(t.elem),this._removeUpdater(t)}return this},removeAll:function(){for(var t,e,i=this.children;i.length;)t=i.length-1,e=i[t],e.parent=null,i.splice(t,1),0===e.renderMode&&0===this.renderMode&&this.elem.removeChild(e.elem),this._removeUpdater(e)},each:function(t){for(var e=this.children,i=0,n=e.length;n>i;i++)t(e[i],i)},enable:function(t){this.mouseEnabled=t?!0:!1,0===this.renderMode&&(this.elemStyle.pointerEvents=t?"auto":"none")},style:function(t,e){if(void 0===e){if("object"!=typeof t)return a.get(this,t);for(var i in t)a.set(this,i,t[i])}else a.set(this,t,e)},data:function(t,e){if(void 0===e){if("object"!=typeof t)return this._userData.get(t);for(var i in t)this._userData.set(i,t[i])}else this._userData.set(t,e)},draw:function(t){if(this.children.length){"hidden"===this.overflow&&(t.beginPath(),t.rect(0,0,this.width,this.height),t.clip(),t.closePath());for(var e,i=this.children,n=0,s=i.length;s>n;n++)e=i[n],e.visible&&e._drawCanvas(t)}},mask:function(){},cache:function(){if(h){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,this.draw(t.getContext("2d")),this._cacheCanvas=t}},uncache:function(){this._cacheCanvas=null},show:function(){this.style("visible",!0)},hide:function(){this.style("visible",!1)},_stepTween:function(t,e){"data"===t?n.step(this,e):a.step(this,t,e)},_isUpdater:function(t){return t.update||t.hasEventListener("update")||"DisplayObject"===t.type},_addUpdater:function(t){this._isUpdater(t)&&this._updaters.push(t)},_removeUpdater:function(t){if(this._isUpdater(t)){var e=this._updaters,i=e.indexOf(t);e.splice(i,1)}},_eachUpdaters:function(t){for(var e,i=this._updaters,n=0,s=i.length;s>n;n++)e=i[n],e&&(e.hasEventListener("update")&&e.trigger({type:"update",delta:t}),e.update?e.update(t):"DisplayObject"===e.type&&e._eachUpdaters(t))},_updateTransform:function(t,e){"scale"===t?this.transform.scale=this.transform.scaleX=this.transform.scaleY=e:t in this.transform&&(this.transform[t]=e)},_updateTransform3D:function(t,e){t in this.transform3d&&(this.transform3d[t]=e)},_mergeTransformText:function(){var t=this.transform,e="";return(0!==t.translateX||0!==t.translateY)&&(e+="translate("+t.translateX+"px,"+t.translateY+"px)"),0!==t.rotate&&(e+=" rotate("+t.rotate+"deg)"),(1!==t.scaleX||1!==t.scaleY)&&(e+=" scale("+t.scaleX+","+t.scaleY+")"),(0!==t.skewX||0!==t.skewY)&&(e+=" skew("+t.skewX+"deg,"+t.skewY+"deg)"),e},_mergeTransform3DText:function(){var t=this.transform3d,e="";return 0!==t.perspective&&(e+="perspective("+t.perspective+"px)"),(0!==t.translateX||0!==t.translateY||0!==t.translateZ)&&(e+=" translate3d("+t.translateX+"px,"+t.translateY+"px,"+t.translateZ+"px)"),0!==t.rotateX&&(e+=" rotateX("+t.rotateX+"deg)"),0!==t.rotateY&&(e+=" rotateY("+t.rotateY+"deg)"),0!==t.rotateZ&&(e+=" rotateZ("+t.rotateZ+"deg)"),(1!==t.scaleX||1!==t.scaleY||1!==t.scaleZ)&&(e+=" scale3d("+t.scaleX+","+t.scaleY+","+t.scaleZ+")"),e},_drawCanvas:function(t){t.save(),this._updateCanvasContext(t),this._cacheCanvas?t.drawImage(this._cacheCanvas,0,0):this.draw(t),t.restore()},_updateCanvasContext:function(t){var e=this._updateMatrix2D(),i=this._getAnchorX(),n=this._getAnchorY(),s=this.shadow;0===i&&0===n?t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty):(t.transform(e.a,e.b,e.c,e.d,e.tx+i,e.ty+n),t.transform(1,0,0,1,-i,-n)),t.globalAlpha*=this.alpha,t.globalCompositeOperation=this.blendMode,s&&(t.shadowOffsetX=s.offsetX,t.shadowOffsetY=s.offsetY,t.shadowBlur=s.blur,t.shadowColor=s.color)},_getAnchorX:function(){return this.width*this.transform.originX},_getAnchorY:function(){return this.height*this.transform.originY},_updateMatrix2D:function(){var t=this._matrix2d.identity(),e=this.transform;return t.appendTransform(this.x+e.translateX,this.y+e.translateY,e.scaleX,e.scaleY,e.rotate,e.skewX,e.skewY)},_updateWorldMatrix:function(){for(var t=this,e=[];t;)e.unshift(t),t=t.parent;var i=new s;return e.forEach(function(t){var e=t.transform,n=t._getAnchorX(),s=t._getAnchorY();i.appendTransform(t.x+e.translateX+n,t.y+e.translateY+s,e.scaleX,e.scaleY,e.rotate,e.skewX,e.skewY),(n||s)&&i.append(1,0,0,1,-n,-s)}),i}});return l}),define("_10",["require","base","_9"],function(t){"use strict";var e=(t("base"),t("_9")),i=e.extend({type:"Stage",autoUpdate:!0,init:function(t){t.render=0,this._super(t),this._initEvents()},update:function(t){this.autoUpdate&&this._eachUpdaters(t)},_initEvents:function(){var t,e,i,n,s,r,a=this,o=this.elem,h=function(t){var e=(t.target||t.srcElement).tagName.toLowerCase();"a"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e&&"embed"!==e&&(t.preventDefault?t.preventDefault():window.event.returnValue=!1)},l=function(o){h(o),t=a._getMouseX(o),e=a._getMouseY(o),i=a._hitTest(o.target||o.srcElement)||a,a._triggerEvent("mousedown",i,t,e),n=!1,s=t,r=e},u=function(s){h(s),a._triggerEvent("mouseup",i,t,e),n||a._triggerEvent("click",i,t,e),i=null},c=function(o){h(o),t=a._getMouseX(o),e=a._getMouseY(o),a._triggerEvent("mousemove",i||a,t,e),!n&&(Math.abs(t-s)>3||Math.abs(e-r)>3)&&(n=!0)};"ontouchstart"in window?(o.addEventListener("touchstart",l,!1),o.addEventListener("touchend",u,!1),o.addEventListener("touchmove",c,!1)):o.attachEvent?(o.attachEvent("onmousedown",l,!1),o.attachEvent("onmouseup",u,!1),o.attachEvent("onmousemove",c,!1)):(o.addEventListener("mousedown",l,!1),o.addEventListener("mouseup",u,!1),o.addEventListener("mousemove",c,!1))},_getMouseX:function(t){var e=t.touches?t.touches[0]:t,i=this.elem.getBoundingClientRect().left;return e.clientX-i},_getMouseY:function(t){var e=t.touches?t.touches[0]:t,i=this.elem.getBoundingClientRect().top;return e.clientY-i},_triggerEvent:function(t,e,i,n){if(e)for(var s={type:t,srcTarget:e,mouseX:i,mouseY:n};e;)e.trigger(s),e=e.parent},_hitTest:function(t){for(var e;!e&&t&&t!==this.elem;)e=t.displayObj,t=t.parentNode;return e}});return i}),define("_11",["require","_7","_9"],function(t){"use strict";var e=t("_7"),i=t("_9"),n=i.extend({type:"Canvas",autoUpdate:!0,_htmlText:"<canvas></canvas>",_context2d:null,_useElemSize:!0,init:function(t){t.render=0,this._super(t),this._initEvents(),this._context2d=this.elem.getContext("2d"),this._initPixelCanvas()},clear:function(){this._context2d.clearRect(0,0,this.width,this.height)},update:function(t){this.autoUpdate&&this._eachUpdaters(t);var e=this._context2d;this.clear(),this.draw(e)},getData:function(){for(var t,e=this._context2d.getImageData(0,0,this.width,this.height).data,i=[],n=0;n<height;n++){i[n]=[];for(var s=0;s<width;s++)t=4*width*n+4*s,i[n][s]=0===e[s+3]?null:[e[s],e[s+1],e[s+2],e[s+3]]}return i},_initEvents:function(){var t,e,i,n,s,r,a=this,o=this.elem,h=function(o){o.preventDefault(),t=a._getMouseX(o),e=a._getMouseY(o),i=a._hitTest(a.children,t,e,!0),a._triggerEvent("mousedown",i),n=!1,s=t,r=e},l=function(t){t.preventDefault(),a._triggerEvent("mouseup",i),n||a._triggerEvent("click",i),i=null},u=function(o){o.preventDefault(),t=a._getMouseX(o),e=a._getMouseY(o),i&&(i.mouseX=t,i.mouseY=e),a._triggerEvent("mousemove",i||{target:a,mouseX:t,mouseY:e}),!n&&(Math.abs(t-s)>3||Math.abs(e-r)>3)&&(n=!0)};"ontouchstart"in window?(o.addEventListener("touchstart",h,!1),o.addEventListener("touchend",l,!1),o.addEventListener("touchmove",u,!1)):(o.addEventListener("mousedown",h,!1),o.addEventListener("mouseup",l,!1),o.addEventListener("mousemove",u,!1))},_getMouseX:function(t){return void 0===t.offsetX?t.layerX:t.offsetX},_getMouseY:function(t){return void 0===t.offsetY?t.layerY:t.offsetY},_triggerEvent:function(t,e){if(e){var i=e.target;for(e.type=t,e.srcTarget=i;i;)i.trigger(e),i=i.parent}},_hitTest:function(t,e,i,n){for(var s,r,a=t.length-1;a>=0;a--){if(s=t[a],s.children.length&&(r=this._hitTest(s.children,e,i)))return r;if(s.width&&s.height&&(r=this._hitTestMatrix(s,e,i)))return r}return n?{target:this,offsetX:e,offsetY:i,mouseX:e,mouseY:i}:null},_hitTestMatrix:function(t,i,n){if(!t.visible||!t.mouseEnabled)return!1;for(var s,r,a,o=new e,h=[],l=t;l&&l!==this;)h.unshift(l),l=l.parent;o.append(1,0,0,1,-i,-n);for(var u=0,c=h.length;c>u;u++)l=h[u],a=l._matrix2d,s=l._getAnchorX(),r=l._getAnchorY(),0===s&&0===r?o.append(a.a,a.b,a.c,a.d,a.tx,a.ty):(o.append(a.a,a.b,a.c,a.d,a.tx+s,a.ty+r),o.append(1,0,0,1,-s,-r));o.invert();var d,f=!1,p=o.tx,g=o.ty,m=t.radius,v=t.width,_=t.height,y=this._pixelContext,x=t.pixelHitTest;return x?(y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,1,1),y.setTransform(1,0,0,1,-p,-g),t.draw(y),d=y.getImageData(0,0,1,1).data,(d[0]||d[1]||d[2]||d[3])&&(f=!0)):m?m*m>=(p-m)*(p-m)+(g-m)*(g-m)&&(f=!0):v&&_&&p>=0&&v>=p&&g>=0&&_>=g&&(f=!0),f?{target:t,offsetX:p,offsetY:g,mouseX:i,mouseY:n}:null},_initPixelCanvas:function(){var t=document.createElement("canvas");t.width=1,t.height=1,this._pixelContext=t.getContext("2d")}});return n}),define("_15",["require","_5","_9"],function(t){"use strict";var e=t("_5"),i=t("_9"),n=i.extend({type:"Bitmap",_image:null,_srcRect:null,_srcCanvas:null,_scaleToFit:!1,init:function(t){this._super(t),this._initImage(t)},draw:function(t){if(this._image.complete){var e=this._srcCanvas||this._image;this._srcRect?t.drawImage(e,this._srcRect.x,this._srcRect.y,this.width,this.height,0,0,this.width,this.height):this._scaleToFit?t.drawImage(e,0,0,e.width,e.height,0,0,this.width,this.height):t.drawImage(e,0,0,this.width,this.height,0,0,this.width,this.height)}},source:function(t,e){return void 0===t?this._srcCanvas||this._image:void this._initImage(t instanceof Array?{rect:t}:{image:t,rect:e})},_initImage:function(t){var i=t.image,n=t.rect||t.sourceRect,s=!!t.scaleToFit,r=this.elemStyle;n?(this._srcRect={x:n[0],y:n[1]},this.style("size",{width:n[2],height:n[3]}),0===this.renderMode&&(r.backgroundPosition="-"+this._srcRect.x+"px -"+this._srcRect.y+"px")):s&&(this._scaleToFit=s,0===this.renderMode&&(r.backgroundSize="100% 100%")),i&&(this._image=i,0===this.renderMode?(r.backgroundImage="url("+e.getUrl(i)+")",r.backgroundRepeat="no-repeat"):1===this.renderMode&&"string"==typeof i&&(e.has(i)||e.load({type:"image",url:i}),this._image=e.get(i)))}});return n}),define("_16",["require","_9"],function(t){"use strict";var e=t("_9"),i=e.extend({type:"Text",_text:null,init:function(t){this._super(t),this._initText(t)},value:function(t){return void 0===t?this._text:(this._text=t,void(0===this.renderMode&&(this.elem.innerHTML=t)))},draw:function(t){t.font=this.fontSize+"px "+this.fontFamily,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.fillStyle=this.color,t.fillText(this._text,0,0)},_initText:function(t){if(this.color=t.color||"#000000",this.fontSize=t.size||20,this.fontFamily=t.font||"Microsoft YaHei",this.textAlign=t.align||"left",this.textBaseline=t.baseline||"top",this.value(t.value||t.text||""),0===this.renderMode){var e=this.elemStyle;e.color=this.color,e.fontSize=this.fontSize+"px",e.fontFamily=this.fontFamily}}});return i}),define("_12",["require"],function(){"use strict";var t=function(){};t.get=function(e){return t.shapes[e]};var e=function(t,e){e.stroke&&void 0===e.strokeWidth&&(e.strokeWidth=1),t.style("fill",e.fill),t.style("stroke",e.stroke),t.style("strokeWidth",e.strokeWidth)},i=function(t,e,i){e&&t.fill(),i&&t.stroke()};return t.shapes={rect:{init:function(t){this.style("size",t),e(this,t)},draw:function(){}},circle:{init:function(t){this.style("radius",t.radius),e(this,t)},draw:function(t){var e=this.radius,n=this.setFill(t),s=this.setStroke(t);t.beginPath(),t.arc(e,e,e,0,2*Math.PI,0),t.closePath(),i(t,n,s)}},ellipse:{init:function(t){this.style({radiusX:t.radiusX,radiusY:t.radiusY}),e(this,t)},draw:function(t){var e=.5522848,n=this.radiusX,s=this.radiusY,r=n*e,a=s*e,o=2*n,h=2*s,l=this.setFill(t),u=this.setStroke(t);t.beginPath(),t.moveTo(0,s),t.bezierCurveTo(0,s-a,n-r,0,n,0),t.bezierCurveTo(n+r,0,o,s-a,o,s),t.bezierCurveTo(o,s+a,n+r,h,n,h),t.bezierCurveTo(n-r,h,0,s+a,0,s),t.closePath(),i(t,l,u)}},line:{init:function(t){this.style("path",t.path),e(this,t)},draw:function(t){var e,i=this.path,n=this.setStroke(t);if(n&&i.length>1){t.beginPath();for(var s=0,r=i.length;r>s;s++)e=i[s],0===s||e[2]===!0?t.moveTo(e[0],e[1]):6===e.length?t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]):4===e.length?t.quadraticCurveTo(e[0],e[1],e[2],e[3]):t.lineTo(e[0],e[1]);t.stroke()}},svg:function(){var t,e=this.path,i="";if(e.length>1)for(var n=0,s=e.length;s>n;n++)t=e[n],i+=0===n||t[2]===!0?"M"+t[0]+" "+t[1]:6===t.length?"C"+t[0]+" "+t[1]+" "+t[2]+" "+t[3]+" "+t[4]+" "+t[5]:4===t.length?"C"+t[0]+" "+t[1]+" "+t[2]+" "+t[3]:"L"+t[0]+" "+t[1];this.elemStyle.lineHeight=0,this.elem.innerHTML='<svg width="'+this.width+'" height="'+this.height+'" version="1.1" xmlns="http://www.w3.org/2000/svg">                    <path fill="none" stroke="'+this.strokeColor+'" stroke-width="'+this.strokeWidth+'" d="'+i+'"></path>                </svg>',console.log(this.elem.children),this.svg=this.elem.children[0].children[0]}},ring:{},ploygon:{init:function(t){this.style("path",t.path),e(this,t)},draw:function(t){var e,n=this.path,s=this.setFill(t),r=this.setStroke(t);if(n.length>2){t.beginPath();for(var a=0,o=n.length;o>a;a++)e=n[a],0===a?t.moveTo(e[0],e[1]):6===e.length?t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]):4===e.length?t.quadraticCurveTo(e[0],e[1],e[2],e[3]):t.lineTo(e[0],e[1]);t.closePath(),i(t,s,r)}},svg:function(){var t,e=this.path,i="";if(e.length>2)for(var n=0,s=e.length;s>n;n++)t=e[n],i+=t[0]+","+t[1]+" ";var r=this.fillColor||"none",a=this.strokeColor||"none";this.elemStyle.lineHeight=0,this.elem.innerHTML='<svg width="'+this.width+'" height="'+this.height+'" version="1.1" xmlns="http://www.w3.org/2000/svg">                    <polygon fill="'+r+'" stroke="'+a+'" stroke-width="'+this.strokeWidth+'" points="'+i+'"></polygon>                </svg>',this.svg=this.elem.children[0].children[0]}},polyStar:{init:function(t){this.sides=t.sides||5,this.cohesion=t.cohesion||.6,this.style("radius",t.radius),e(this,t)},draw:function(t){var e,n,s,r=this.radius,a=this.sides,o=this.cohesion,h=this.setFill(t),l=this.setStroke(t);t.beginPath();for(var u=0;a>u;u++)e=u/a*Math.PI*2,n=(1-Math.sin(e))*r,s=(1-Math.cos(e))*r,0===u?t.moveTo(n,s):t.lineTo(n,s),o&&(e+=Math.PI/a,n=(1-Math.sin(e)*o)*r,s=(1-Math.cos(e)*o)*r,t.lineTo(n,s));t.closePath(),i(t,h,l)}}},t}),define("shapes/Shape",["require","_5","_9","_12","_8"],function(t){"use strict";var e=t("_5"),i=t("_9"),n=t("_12"),s=t("_8"),r=s.newStyle,a=/^\#|^rgb|^rgba|black|red|green|blue|yellow|orange|pink|purple|gray/,o=/^top|^right|^bottom|^left|^center/,h=/\.jpg$|\.png$|\.gif$/,l={fill:r("fill",null,{get:function(){return this.fillColor||this.fillGradient||this.fillImage},set:function(t,e){this[t]=e,t=a.test(e)?"fillColor":o.test(e)?"fillGradient":h.test(e)?"fillImage":null,t&&s.set(this,t,e)},step:function(t,e){var i=e.end;t=a.test(i)?"fillColor":o.test(i)?"fillGradient":null,t&&s.step(this,t,e)}}),fillColor:r("fillColor",null,{set:function(t,e){this[t]=e,this.fillBrush=this.fillGradient=this.fillImage=null},css:function(t,e){this._useSVG?this.svg&&this.svg.setAttribute("fill",e):(this.elemStyle.backgroundColor=e,this.elemStyle.backgroundImage="")},step:function(t,e){return s.stepColor(e.pos,e.start,e.end)}}),fillGradient:r("fillGradient",null,{parse:function(t){if("string"==typeof t){t=t.split(/\,#|\,rgb/);for(var e=1,i=t.length;i>e;e++)t[e]=(t[e].indexOf("(")>-1?"rgb":"#")+t[e];t={type:t[0],from:t[1],to:t[2]}}return t},set:function(t,e){this[t]=e,this.fillBrush=this.fillColor=this.fillImage=null},css:function(t,e){var i,n=this.elemStyle;if(s.isIE6_8||s.isIE9){var r=n.filter,a=/gradient([^)]*)/;i="gradient(GradientType=0,startColorstr='"+e.from+"', endColorstr='"+e.to+"'",n.filter=a.test(r)?r.replace(a,i):r+" progid:DXImageTransform.Microsoft."+i+")"}else i="center"===e.type?"radial-gradient(circle,"+e.from+","+e.to+")":"linear-gradient("+e.type+","+e.from+","+e.to+")",n.backgroundImage="-webkit-"+i,n.backgroundImage="-ms-"+i,n.backgroundImage="-moz-"+i},step:function(t,e){var i=e.start,n=e.end,r=e.pos,a={type:n.type};return a.from=s.stepColor(r,i.from,n.from),a.to=s.stepColor(r,i.to,n.to),a}}),fillImage:r("fillImage",null,{parse:function(t){return 1===this.renderMode&&(e.has(t)||e.load({type:"image",url:t}),t=e.get(t)),t},set:function(t,e){this[t]=e,this.fillBrush=this.fillColor=this.fillGradient=null},css:function(t,i){this.elemStyle.backgroundImage="url("+e.getUrl(i)+")"},step:null}),stroke:r("stroke",null,{get:function(){return this.strokeColor},set:function(t,e){this[t]=e,s.set(this,"strokeColor",e)},step:function(t,e){s.step(this,"strokeColor",e)}}),strokeColor:r("strokeColor",null,{css:function(t,e){if(this._useSVG)this.svg&&this.svg.setAttribute("stroke",e);else{var i=this.elemStyle;i.borderColor=e?e:"",i.borderStyle=e?"solid":"none"}},step:function(t,e){return s.stepColor(e.pos,e.start,e.end)}}),strokeWidth:r("strokeWidth",null,{css:function(t,e){this._useSVG?this.svg&&this.svg.setAttribute("stroke-width",e):this.elemStyle.borderWidth=e+"px"
}}),radius:r("radius",null,{set:function(t,e){this[t]=e;var i=2*e;s.set(this,"size",{width:i,height:i})},css:function(){var t=this.elemStyle;t.borderRadius="50%"}}),radiusX:r("radius",null,{set:function(t,e){this[t]=e;var i=2*e;s.set(this,"width",i)},css:function(){var t=this.elemStyle;t.borderRadius="50%"}}),radiusY:r("radius",null,{set:function(t,e){this[t]=e;var i=2*e;s.set(this,"height",i)},css:function(){var t=this.elemStyle;t.borderRadius="50%"}}),angle:r("angle",null,{css:function(t,e){var i=this.radius;e="M"+i+" 0A"+i+" "+i+" 0 0 1 "+2*i+" "+2*i,this.svg.setAttribute("d",e)}}),path:r("path",null,{set:function(t,e){this[t]=e;for(var i,n,r,a=this.width,o=this.height,h=0,l=e.length;l>h;h++)i=e[h],n=i[i.length-2],r=i[i.length-1],n>a&&(a=n),r>o&&(o=r);s.set(this,"size",{width:a,height:o})},css:function(t,e){if(this._useSVG&&this.svg){for(var i,n=e,e="",s=0,r=n.length;r>s;s++)i=n[s],e+=0===s||i[2]===!0?"M"+i[0]+" "+i[1]:6===i.length?"C"+i[0]+" "+i[1]+" "+i[2]+" "+i[3]+" "+i[4]+" "+i[5]:4===i.length?"C"+i[0]+" "+i[1]+" "+i[2]+" "+i[3]:"L"+i[0]+" "+i[1];"Ploygon"===this.type&&(e+="Z"),this.svg.setAttribute("d",e)}}})},u=i.extend({type:"Shape",styles:l,graphics:null,snapToPixel:!0,init:function(t){this._super(t),this._initGraphics(t)},draw:function(t){this.graphics&&this.graphics.draw.call(this,t)},setFill:function(t){var e=this.fillColor,i=this.fillGradient,n=this.fillImage;if(n)n.complete&&(this.fillBrush?e=this.fillBrush:this.fillBrush=e=t.createPattern(n,"no-repeat"));else if(i)if(this.fillBrush)e=this.fillBrush;else{switch(i.type){case"top":case"bottom":e=t.createLinearGradient(0,0,0,this.height);break;case"left":case"right":e=t.createLinearGradient(0,0,this.width,0);break;case"left top":e=t.createLinearGradient(0,0,this.width,this.height);break;case"right top":e=t.createLinearGradient(this.width,0,0,this.height);break;case"center":var s=this.width/2,r=this.height/2;e=t.createRadialGradient(s,r,0,s,r,s>r?s:r)}e.addColorStop(0,i.from),e.addColorStop(1,i.to),this.fillBrush=e}return e?(t.fillStyle=e,!0):!1},setStroke:function(t){var e=this.strokeColor,i=this.strokeWidth;if(e&&i){if(t.strokeStyle=e,t.lineWidth=i,t.lineCap=this.lineCap||"round",t.lineJoin=this.lineJoin||"round",this.snapToPixel&&1===i){var n=this._matrix2d;t.translate(n.tx>=0?.5:-.5,n.ty>=0?.5:-.5)}return!0}return!1},_initGraphics:function(t){var e=t.graphics||t.g;if(e){var i=e.type,s=i?n.get(i):e;s&&s.init&&s.draw&&(this.graphics=s,this._useSVG=0===this.renderMode&&s.svg,s.init.call(this,e),this._useSVG&&s.svg.call(this))}}});return u}),define("_17",["require","shapes/Shape"],function(t){"use strict";var e=t("shapes/Shape"),i=e.extend({type:"Rect",draw:function(t){var e=this.setFill(t),i=this.setStroke(t);t.beginPath(),t.rect(0,0,this.width,this.height),t.closePath(),e&&t.fill(),i&&t.stroke()},_initGraphics:function(t){this.style({fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth||1})}});return i}),define("_18",["require","shapes/Shape"],function(t){"use strict";var e=t("shapes/Shape"),i=e.extend({type:"Circle",draw:function(t){var e=this.radius,i=this.setFill(t),n=this.setStroke(t);t.beginPath(),t.arc(e,e,e,0,2*Math.PI,0),t.closePath(),i&&t.fill(),n&&t.stroke()},_initGraphics:function(t){this.style({fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth||1,radius:t.radius})}});return i}),define("_19",["require","shapes/Shape"],function(t){"use strict";var e=t("shapes/Shape"),i=e.extend({type:"Line",pixelHitTest:!0,_htmlText:'<svg width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',_useSVG:!0,_useElemSize:!0,draw:function(t){var e,i=this.path,n=this.setStroke(t);if(n&&i.length>1){t.beginPath();for(var s=0,r=i.length;r>s;s++)e=i[s],0===s||e[2]===!0?t.moveTo(e[0],e[1]):6===e.length?t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]):4===e.length?t.quadraticCurveTo(e[0],e[1],e[2],e[3]):t.lineTo(e[0],e[1]);t.stroke()}},_initGraphics:function(t){0===this.renderMode&&(this.svg=document.createElementNS("http://www.w3.org/2000/svg","path"),this.elem.appendChild(this.svg)),this.style({stroke:t.stroke,strokeWidth:t.strokeWidth||1,path:t.path||[]})}});return i}),define("_20",["require","shapes/Shape"],function(t){"use strict";var e=t("shapes/Shape"),i=e.extend({type:"Ploygon",_htmlText:'<svg width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',_useSVG:!0,_useElemSize:!0,draw:function(t){var e,i=this.path,n=this.setFill(t),s=this.setStroke(t);if(i.length>2){t.beginPath();for(var r=0,a=i.length;a>r;r++)e=i[r],0===r?t.moveTo(e[0],e[1]):6===e.length?t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]):4===e.length?t.quadraticCurveTo(e[0],e[1],e[2],e[3]):t.lineTo(e[0],e[1]);t.closePath(),n&&t.fill(),s&&t.stroke()}},_initGraphics:function(t){if(0===this.renderMode&&(this.svg=document.createElementNS("http://www.w3.org/2000/svg","path"),this.elem.appendChild(this.svg)),t.radius&&t.sides){for(var e,i,n,s=t.radius,r=t.sides,a=t.cohesion,o=[],h=0;r>h;h++)e=h/r*Math.PI*2,i=(1-Math.sin(e))*s,n=(1-Math.cos(e))*s,o.push([i,n]),a&&(e+=Math.PI/r,i=(1-Math.sin(e)*a)*s,n=(1-Math.cos(e)*a)*s,o.push([i,n]));t.path=o}this.style({fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth||1,path:t.path||[]})}});return i}),define("_22",["require"],function(){"use strict";var t=function(){};t.get=function(t){return e[t]||e.linear};var e={none:function(t){return t>=1?1:0},linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,s){return n*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,n,s){return n*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,s){return n*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,n,s){return-n*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,s){return n*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,s){return n*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,s){return-n*Math.cos(e/s*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,s){return n*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,s){return-n/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(-Math.pow(2,-10*e/s)+1)+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:(e/=s/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,s){return-n*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,n,s){return n*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,n,s){return(e/=s/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,s){var r=1.70158,a=0,o=n;if(0==e)return i;if(1==(e/=s))return i+n;if(a||(a=.3*s),o<Math.abs(n)){o=n;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin(2*(e*s-r)*Math.PI/a))+i},easeOutElastic:function(t,e,i,n,s){var r=1.70158,a=0,o=n;if(0==e)return i;if(1==(e/=s))return i+n;if(a||(a=.3*s),o<Math.abs(n)){o=n;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin(2*(e*s-r)*Math.PI/a)+n+i},easeInOutElastic:function(t,e,i,n,s){var r=1.70158,a=0,o=n;if(0==e)return i;if(2==(e/=s/2))return i+n;if(a||(a=.3*s*1.5),o<Math.abs(n)){o=n;var r=a/4}else var r=a/(2*Math.PI)*Math.asin(n/o);return 1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin(2*(e*s-r)*Math.PI/a)+i:o*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*s-r)*Math.PI/a)*.5+n+i},easeInBack:function(t,e,i,n,s,r){return void 0==r&&(r=1.70158),n*(e/=s)*e*((r+1)*e-r)+i},easeOutBack:function(t,e,i,n,s,r){return void 0==r&&(r=1.70158),n*((e=e/s-1)*e*((r+1)*e+r)+1)+i},easeInOutBack:function(t,e,i,n,s,r){return void 0==r&&(r=1.70158),(e/=s/2)<1?n/2*e*e*(((r*=1.525)+1)*e-r)+i:n/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+i},easeInBounce:function(t,i,n,s,r){return s-e.easeOutBounce(t,r-i,0,s,r)+n},easeOutBounce:function(t,e,i,n,s){return(e/=s)<1/2.75?7.5625*n*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,i,n,s,r){return r/2>i?.5*e.easeInBounce(t,2*i,0,s,r)+n:.5*e.easeOutBounce(t,2*i-r,0,s,r)+.5*s+n},easeIn:function(t,i,n,s,r){return e.easeInQuad(t,i,n,s,r)},easeOut:function(t,i,n,s,r){return e.easeOutQuad(t,i,n,s,r)},easeInOut:function(t,i,n,s,r){return e.easeInOutQuad(t,i,n,s,r)},expoIn:function(t,i,n,s,r){return e.easeInExpo(t,i,n,s,r)},expoOut:function(t,i,n,s,r){return e.easeOutExpo(t,i,n,s,r)},expoInOut:function(t,i,n,s,r){return e.easeInOutExpo(t,i,n,s,r)},bounceIn:function(t,i,n,s,r){return e.easeInBounce(t,i,n,s,r)},bounceOut:function(t,i,n,s,r){return e.easeOutBounce(t,i,n,s,r)},bounceInOut:function(t,i,n,s,r){return e.easeInOutBounce(t,i,n,s,r)},elasIn:function(t,i,n,s,r){return e.easeInElastic(t,i,n,s,r)},elasOut:function(t,i,n,s,r){return e.easeOutElastic(t,i,n,s,r)},elasInOut:function(t,i,n,s,r){return e.easeInOutElastic(t,i,n,s,r)},backIn:function(t,i,n,s,r){return e.easeInBack(t,i,n,s,r)},backOut:function(t,i,n,s,r){return e.easeOutBack(t,i,n,s,r)},backInOut:function(t,i,n,s,r){return e.easeInOutBack(t,i,n,s,r)}};return t.easing=e,t}),define("_21",["require","_0","_9"],function(t){"use strict";var e=t("_0"),i=t("_9"),n=e.extend({type:"Animation",_paused:!0,play:function(){this._paused=!1},stop:function(){this._paused=!0}});return n.AnimatedObject=i.extend({type:"AnimatedObject",_paused:!0,play:function(){this._paused=!1},stop:function(){this._paused=!0}}),n}),define("_23",["require","_0","_9","_22","_21"],function(t){"use strict";var e=(t("_0"),t("_9")),i=t("_22"),n=t("_21"),s=n.extend({from:0,to:0,start:null,end:null,easing:null,_target:null,_deltaTime:-1,init:function(t,e,n,s){this._target=t,this._deltaTime=0;var r=e.start,a=e.end;if(r)t.style(r),r.data&&t.data(r.data);else{r={};for(var o in a)r[o]=this._clone("data"===o?t._userData:t.style(o))}this.start=r,this.end=a,this.from=e.from,this.to=e.to,this.easing=i.get(e.easing),this.callback=n,this.tick=s},finish:function(){this.stop(),this.callback&&this.callback()},update:function(t){if(!this._paused){var e=this._target,i=this.start,n=this.end,s=this.to-this.from,r=this.easing,a=this._deltaTime,o=a/s,h=0===o||1===o?o:r(o,o,0,1,1);for(var l in n)e._stepTween(l,{pos:h,start:i[l],end:n[l]});if(this.tick&&this.tick(o,h),a===s)this.finish();else{var u=a+t;this._deltaTime=u>s?s:u}}},_clone:function(t){var e;if("object"==typeof t){e={};for(var i in t)e[i]=this._clone(t[i])}else e=t;return e}});return s._tweens=[],s._currentTarget=null,s.destroyAll=function(){for(var t,e=this._tweens,i=0,n=e.length;n>i;i++)t=e[i]._target,t._fxQueue=t._fxTween=null;this._tweens=[]},s.update=function(t){for(var e=this._tweens,i=e.length-1;i>=0;i--)e[i]._paused&&e.splice(i,1);for(var i=0,n=e.length;n>i;i++)e[i].update(t)},s.get=function(t){return this._currentTarget=t,this},s.has=function(t){return!!t._fxQueue},s.exec=function(t,e){var i=this._currentTarget;switch(t){case"shift":i._fxTween?(i._fxTween.stop(),i._fxTween.callback()):i._fxQueue&&i._fxQueue.shift();break;case"pop":i._fxQueue&&i._fxQueue.pop();break;case"stop":i._fxTween&&i._fxTween.stop(),i._fxQueue=i._fxTween=null;break;case"fadeIn":i.style({visible:!0,alpha:0}),this.addTween({alpha:1},null,null,e);break;case"fadeOut":i.style({visible:!0,alpha:1}),this.addTween({alpha:0},null,null,function(t){i.style({visible:!1}),e&&e(t)})}},s.addTween=function(t,e,i,n,r){var a=this._currentTarget,o=a._fxQueue;if("number"==typeof t)n=e,e=t,t={},i="none";else if("string"==typeof t)return n=e,void this.exec(t,n);var h=function(){n&&n(),o=a._fxQueue,o&&o.length>0?o.shift()():(a._fxQueue=a._fxTween=null,a.trigger({type:"tweenend"}))},l=function(){var n=new s(a,{from:0,to:e||300,start:null,end:t,easing:i||"linear"},h,r);n.play(),a._fxTween=n,s._tweens.push(n)};o?o.push(l):(l(),a._fxQueue=[])},e.prototype.to=function(t,e,i,n,r){return s.get(this).addTween(t,e,i,n,r),this},s}),define("_24",["require","_0","_9","_21"],function(t){"use strict";var e=(t("_0"),t("_9")),i=t("_21"),n=i.extend({data:null,_target:null,_deltaTime:-1,init:function(t,e,i,n){this._target=t,this.data=e,this._deltaTime=0,this._sx=t.x,this._sy=t.y,this.update=this[e.type],this.tick=i,this.callback=n},finish:function(){this.stop(),this.callback&&this.callback()},move:function(t){var e,i,n=this.data,s=this._target,r=this._sx,a=this._sy,o=this._deltaTime,h=n.path[0],l=n.v,u=h[0]-r,c=h[1]-a,d=Math.sqrt(u*u+c*c),f=l*o;f>d?(n.path.shift(),e=h[0],i=h[1],this._deltaTime=0,this._sx=e,this._sy=i):(e=u/d*f+r,i=c/d*f+a),s.style({x:e,y:i}),!n.path.length||this.tick&&this.tick(o,e,i)?this.finish():this._deltaTime+=t},speed:function(t){var e=this.data,i=this._target,n=this._sx,s=this._sy,r=this._deltaTime,a=e.vx,o=e.vy,h=e.ax,l=e.ay,u=h*r*r/2+r*a,c=l*r*r/2+r*o,d=n+u,f=s+c;i.style({x:d,y:f}),this.tick&&this.tick(r,d,f)?this.finish():this._deltaTime+=t},circle:function(t){var e=this.data,i=this._target,n=Math.PI/180,s=this._deltaTime,r=e.ox,a=e.oy,o=e.r,h=e.scx,l=e.scy,u=e.sdeg,c=e.vdeg,d=u+c*s,f=d*n,p=Math.cos(f)*o*h+r,g=Math.sin(f)*o*l+a;i.style({x:p,y:g}),this.tick&&this.tick(s,d,p,g)?this.finish():this._deltaTime+=t},bezier:function(t){var e=this.data,i=this._target,n=this._deltaTime/e.duration,s=n>1?1:n,r=e.p0,a=e.p1,o=e.p2,h=Math.pow(1-s,2)*r.x+2*s*(1-s)*a.x+Math.pow(s,2)*o.x,l=Math.pow(1-s,2)*r.y+2*s*(1-s)*a.y+Math.pow(s,2)*o.y;i.style({x:h,y:l}),this.tick&&this.tick(n,h,l)?this.finish():this._deltaTime+=t}});return n._currentTarget=null,n._movements=[],n.update=function(t){for(var e=this._movements,i=e.length-1;i>=0;i--)e[i]._paused&&e.splice(i,1);for(var i=0,n=e.length;n>i;i++)e[i].update(t)},n.get=function(t){return this._currentTarget=t,this},n.exec=function(t){var e=this._currentTarget;switch(t){case"stop":e._fxMovement&&e._fxMovement.stop(),e._fxMovement=null}},n.addMovement=function(t,e,i){var s,r=this._currentTarget;return"string"==typeof t?void this.exec(t,e):(s="circle"===t.type?new n(r,{type:"circle",ox:t.ox||0,oy:t.oy||0,r:t.r||0,scx:t.scx||1,scy:t.scy||1,sdeg:t.sdeg||0,vdeg:t.vdeg||0},e,i):"bezier"===t.type?new n(r,{type:"bezier",duration:t.duration||1e3,p0:t.p0||{x:0,y:0},p1:t.p1||{x:0,y:0},p2:t.p2||{x:0,y:0}},e,i):"speed"===t.type?new n(r,{type:"speed",vx:t.vx||0,vy:t.vy||0,ax:t.ax||0,ay:t.ay||0},e,i):new n(r,{type:"move",path:t.path||[],v:t.v||0},e,i),s.play(),r._fxMovement=s,void n._movements.push(s))},e.prototype.move=function(t,e,i){n.get(this).addMovement(t,e,i)},n}),define("_26",["require","_5","_21"],function(t){"use strict";var e=t("_5"),i=t("_21"),n=i.AnimatedObject.extend({type:"Sprite",_paused:!0,_spriteSheet:null,_images:null,_imageIndex:-1,_frames:null,_frameIndex:-1,_currentFrame:null,_animations:null,_currentAnimation:null,_deltaTime:-1,init:function(t){this._super(t),this._initSpriteSheet(t.spriteSheet||t.ss)},play:function(t){"string"==typeof t?this.playAnimation(t):"number"==typeof t?this.gotoAndPlay(t):this._paused=!1},stop:function(){this._paused=!0},gotoAndPlay:function(t){this._paused=!1,this._currentAnimation=null,this._frameIndex=t},gotoAndStop:function(t){this._paused=!0,this._currentAnimation=null,this._frameIndex=t,this._updateFrame()},playAnimation:function(t){this._paused=!1;var e=this._animations[t];e&&(this._currentAnimation=e,this._frameIndex=e.start,this._deltaTime=0)},update:function(t){if(!this._paused){this._updateFrame();var e,i,n,s,r,a=this._currentAnimation;a?(e=a.name,i=a.start,n=a.end,s=a.next,r=a.duration):(e=null,i=0,n=this._frames.length-1,s=!0,r=0);var o;r>0?(this._deltaTime+=t,o=Math.floor((n-i+1)*(this._deltaTime/r)+i)):o=this._frameIndex+1,o>n?("string"==typeof s?this.playAnimation(s):s===!0?(this._frameIndex=i,this._deltaTime=0):this.stop(),this.trigger({type:"animationend",name:e,animation:a})):this._frameIndex=o}},draw:function(t){var e=this._currentFrame;if(e){var i=this._images[e[4]];i&&i.complete&&t.drawImage(i,e[0],e[1],e[2],e[3],0,0,e[2],e[3])}},_initSpriteSheet:function(t){this._spriteSheet=t,this._initImages(t.images),this._initFrames(t.frames),this._initAnimations(t.animations),this._offsetX=t.offsetX||0,this._offsetY=t.offsetY||0,this.play(0)},_initImages:function(t){this._imageIndex=-1,this._images=[];for(var i,n=0,s=t.length;s>n;n++)i=t[n],0!==this.renderMode&&(e.has(i)||e.load({type:"image",url:i}),i=e.get(i)),this._images.push(i)},_initFrames:function(t,e){if(e||(this._frames=[]),t instanceof Array)for(var i=0,n=t.length;n>i;i++)t[i]instanceof Array?this._frames.push(t[i]):this._initFrames(t[i],!0);else for(var s=0,r=t.rows;r>s;s++)for(var i=0,n=t.cols;n>i&&s*t.cols+i!==t.num;i++)this._frames.push([i*t.width,s*t.height,t.width,t.height,t.image||0,0,0])},_initAnimations:function(t){this._animations={};var e;for(var i in t)e=t[i],this._animations[i]={name:i,start:e[0],end:e[1],next:e[2],duration:e[3]}},_updateFrame:function(){var t=this._currentFrame=this._frames[this._frameIndex];if(t){(this.width!==t[2]||this.height!==t[3])&&this.style("size",{width:t[2],height:t[3]});var i=this.transform,n=this._offsetX+t[5],s=this._offsetY+t[6];if((i.translateX!==n||i.translateY!==s)&&this.style("transform",{translateX:n,translateY:s}),0===this.renderMode){var r=this.elemStyle;this._imageIndex!==t[4]&&(this._imageIndex=t[4],r.backgroundImage="url("+e.getUrl(this._images[t[4]])+")",r.backgroundRepeat="no-repeat"),r.backgroundPosition="-"+t[0]+"px -"+t[1]+"px"}}}});return n}),define("cartoon",["require","base","_0","_1","_5","_9","_10","_11","_15","_16","shapes/Shape","_17","_18","_19","_20","_23","_24","_26"],function(t){"use strict";var e=t("base");return e.extend({Class:t("_0"),Ticker:t("_1"),Preload:t("_5"),DisplayObject:t("_9"),Stage:t("_10"),Canvas:t("_11"),Bitmap:t("_15"),Text:t("_16"),Shape:t("shapes/Shape"),Rect:t("_17"),Circle:t("_18"),Line:t("_19"),Ploygon:t("_20"),Tween:t("_23"),Movement:t("_24"),Sprite:t("_26")}),e});