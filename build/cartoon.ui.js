define("_29",["require","cartoon"],function(require){"use strict";var ct=require("cartoon"),Viewer=ct.Class.extend({_viewIndex:-1,_views:null,_sprites:null,_scriptEnabled:!1,init:function(){this._viewIndex=0,this._views={},this._sprites={}},isContainer:function(t){return["Stage","Canvas","GLCanvas","DisplayObject"].indexOf(t)>-1},enableScript:function(t){this._scriptEnabled=t},getSprite:function(t){return this._sprites[t]},parse:function(t){return this.parseObj(t)},parseObj:function(t,e){var i=this;e||ct.setRenderMode(t.render),void 0===t.x&&(t.x=0),void 0===t.y&&(t.y=0);var s=this.parseDisplayObj(t);return e||(e=s,e._callbacks=[]),t.tag&&(s.tag=t.tag,this.set(t.tag,s)),t.children&&t.children.forEach(function(t){s.add(i.parseObj(t,e))}),t.script&&(s.script=t.script,this._scriptEnabled&&e._callbacks.push(s)),e===s&&(this.callback(e._callbacks),e._callbacks=null),s},parseDisplayObj:function(t){var e;switch(t.type){case"Stage":e=new ct.Stage(t);break;case"Canvas":e=new ct.Canvas(t);break;case"DisplayObject":e=new ct.DisplayObject(t);break;case"Bitmap":e=new ct.Bitmap(t);break;case"Text":e=new ct.Text(t);break;case"Sprite":e=new ct.Sprite(t),e.play("all");break;case"Rect":e=new ct.Rect(t);break;case"Circle":e=new ct.Circle(t);break;case"Button":e=new ct.Button(t);break;case"TextField":e=new ct.TextField(t);break;case"ParticleSystem":e=new ct.DisplayObject(t)}return e},json:function(t){return this.jsonObj(t)},jsonObj:function(t,e){var i=this,s={type:t.type};e||(e=t,s.render=t.renderMode),t.tag&&(s.tag=t.tag),this.getProp(s,t,"x",0),this.getProp(s,t,"y",0),this.getProp(s,t,"width",0),this.getProp(s,t,"height",0),this.getProp(s,t,"alpha",1),this.getProp(s,t,"visible",!0),this.getProp(s,t,"cursor","auto"),this.jsonDisplayObj(s,t);var r=this.isContainer(t.type);return r&&t.children.length&&(s.children=[],t.children.forEach(function(t){s.children.push(i.jsonObj(t,e))})),t.script&&(s.script=t.script),s},jsonDisplayObj:function(t,e){switch(e.type){case"Bitmap":t.image=e._image,t.rect=[e._srcRect.x,e._srcRect.y,e.width,e.height];break;case"Text":t.text=e._text;break;case"Sprite":t.ss=e._spriteSheet.originName||e._spriteSheet;break;case"Rect":this.getProp(t,e,"fill",void 0),this.getProp(t,e,"stroke",void 0),this.getProp(t,e,"strokeWidth",void 0);break;case"Circle":this.getProp(t,e,"radius",void 0),this.getProp(t,e,"fill",void 0),this.getProp(t,e,"stroke",void 0),this.getProp(t,e,"strokeWidth",void 0);break;case"Button":t.ss=e._spriteSheet.originName||e._spriteSheet;break;case"TextField":t.size=e.fontSize}},jsonTree:function(t,e){var i=this,s=this.isContainer(t.type),r=t.pid=++this._viewIndex;this.set(r,t);var n={name:this.getName(t),drag:!e&&!t.renderMode,pid:r,isParent:s};return s&&(n.children=[],t.children.forEach(function(t){n.children.push(i.jsonTree(t))})),n},getProp:function(t,e,i,s){e[i]!==s&&(t[i]=e[i])},set:function(t,e){this._views[t]=e},getName:function(t){var e="DisplayObject"===t.type?"Display":"ParticleSystem"===t.type?"Particle":t.type,i=t.tag?" 【"+t.tag+"】":"",s=t.script?" Θ":"",r=t.visible?"":" × ";return r+e+i+s},get:function(t){return this._views[t]},callback:function(objects){var viewer=this,V=function(t){return viewer.get(t)},_this=viewer._this;objects.forEach(function(a,i){eval("(function(){"+a.script+"}).call(a)")})}});return Viewer}),define("_30",["require","_9","_15"],function(t){"use strict";var e=t("_9"),i=t("_15"),s=e.extend({type:"Button",_status:-1,_spriteSheet:null,_images:null,_frames:null,init:function(t){this._super(t),this._initUI(t.spriteSheet||t.ss)},_initUI:function(t){this._spriteSheet=t,this._images=t.images,this._frames=t.frames;for(var e,s,r,n=this,a=0,c=this._frames.length;c>a;a++)s=this._frames[a],r=this._images[s[4]],e=new i({renderMode:this.renderMode,image:r,rect:s,visible:!1}),e.enable(!1),this.add(e);this.on("mousedown",function(){n.status(1)}),this.on("mouseup",function(){n.status(0)}),this.status(0)},status:function(t){var e=this.children[this._status];e&&e.style("visible",!1),this._status=t,e=this.children[this._status],e.style("visible",!0),this.style({width:e.width,height:e.height})}});return s}),define("ui/TextField",["require","_9"],function(t){"use strict";var e=t("_9"),i=e.extend({type:"TextField",_htmlText:'<input type="text" />',_text:null,init:function(t){this._super(t),this._initText(t)},value:function(t){return void 0===t?0===this.renderMode?this.elem.value:this._text:(this._text=t,void(0===this.renderMode&&(this.elem.value=t)))},draw:function(t){t.font=this.fontSize+"px "+this.fontFamily,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.fillStyle=this.color,t.fillText(this._text,0,0)},_initText:function(t){if(this.color=t.color||"#000000",this.fontSize=t.size||20,this.fontFamily=t.font||"Microsoft YaHei",this.textAlign=t.align||"left",this.textBaseline=t.baseline||"top",this.value(t.value||t.text||""),0===this.renderMode){var e=this.elemStyle;e.padding="0",e.border="none",e.color=this.color,e.fontSize=this.fontSize+"px",e.fontFamily=this.fontFamily}}});return i}),define("cartoon.ui",["require","cartoon","_29","_30","ui/TextField"],function(t){"use strict";var e=t("cartoon");return e.extend({Viewer:t("_29"),Button:t("_30"),TextField:t("ui/TextField")}),e});