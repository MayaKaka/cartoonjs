<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
 	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/carousel.css">
	<link rel="stylesheet" href="css/home.css">
    <script src="js/libs/require.min.js"></script>
    <script src="js/requireConf.js"></script>
</head>
<body>
    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation" id="head">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">	  <span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">
					<span>C</span>artoonJS</a></div>
				<a href="http://gitlab.baidu.com/chenrui09/cartoonjs" target="_blank">
					<img id="fork-image" style="position: absolute; top: 0px; right: 0px; border: 0px; z-index: 1000; width: 149px;" src="images/fork.png" alt="Fork me on GitHub">
				</a>
				<div class="navbar-collapse collapse" id="nav-wrap">
					<ul class="nav navbar-nav navbar-right" id="nav" style="max-width: 100%; margin-right: 45.5px;">
						<li class=""><a href="index.html">首页</a></li>
						<li class="active"><a href="#" target="_blank">文档</a></li>
						<li class=""><a href="demo.html" target="_blank">示例</a></li>
						<li class=""><a href="three.html" target="_blank">3d示例</a></li>
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">下载<b class="caret"></b></a>
							<ul class="dropdown-menu">
								<li><a href="../build/cartoon.js">cartoon.js</a></li>
								<li><a href="../build/cartoon.filters.js">filters.js</a></li>
								<li><a href="../build/cartoon.particles.js">particles.js</a></li>
								<li><a href="../build/cartoon.box2d.js">box2d.js</a></li>
								<li><a href="../build/cartoon.three.js">three.js</a></li>
                                <li class="divider"></li>
								<li><a href="doc/changelog.html">更新日志</a></li>
							</ul>
						</li>
						<li class=""><a href="#">关于我们</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="col-md-3">
                <div class="affix panel col-md-3" id="accordion">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <div class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse-description">
                        <strong>基础文档</strong>
                      </div>
                    </div>
                    <div id="collapse-description" class="panel-collapse  collapse in">
                      <div class="panel-body">
                        <div id="toc" style="height: auto;">
                        <ul>
                            <li><a href="#简介">简介</a></li>
                            <li><a href="#结构设计">结构设计</a></li>
                            <li><a href="#API设计">API设计</a></li>
                            <li><a href="#名词解析">名词解析</a></li>
                            <li><a href="#模块化引入">模块化引入</a></li>
                            <li><a href="#初始化">初始化</a></li>
                            <li><a href="#base-class">核心</a></li>
                            <ul>
                            	<li><a href="#base-class">Class</a></li>
                                <li><a href="#base-ticker">Ticker</a></li>
                                <li><a href="#base-dispatcher">EventDispatcher</a></li>
                                <li><a href="#base-preload">Preload</a></li>
                                <li><a href="#base-matrix">Matrix2D</a></li>
                                <li><a href="#base-display">DisplayObject</a></li>
                            </ul>
                            <li><a href="#base-dom">容器</a></li>
                            <ul>
                                <li><a href="#base-dom">Container</a></li>
                                <li><a href="#base-canvas">Canvas</a></li>
                                <li><a href="#base-webgl">GLCanvas</a></li>
                            </ul>
                            <li><a href="#base-shape">绘图</a></li>
                            <ul>
                                <li><a href="#base-shape">Shape</a></li>
                                <li><a href="#base-bitmap">Bitmap</a></li>
                                <li><a href="#base-text">Text</a></li>
                            </ul>
                            <li><a href="#base-tween">动画</a></li>
                            <ul>
                                <li><a href="#base-tween">Tween</a></li>
                                <li><a href="#base-timeline">Timeline</a></li>
                                <li><a href="#base-movement">Movement</a></li>
                                <li><a href="#base-sprite">Sprite</a></li>
                                <li><a href="#base-particle">ParticleSystem</a></li>
                                <li><a href="#base-skeletal">SkeletalAnimation</a></li>
                            </ul>
                            <li><a href="#base-physics">物理</a></li>
                            <ul>
                                <li><a href="#base-physics">PhysicsWorld</a></li>

                            </ul>
                            <li><a href="#base-obj3d">3D</a></li>
                            <ul>
                                <li><a href="#base-obj3d">Object3D</a></li>
                            </ul> 
                        </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <div class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse-config">
                        <strong>参考引用</strong>
                      </div>
                    </div>
                    <div id="collapse-config" class="panel-collapse collapse" style="height: 0px;">
                      <div class="panel-body">
                        <div id="config" style="height: auto;"></div>
                      </div>
                    </div>
                  </div>
              </div><!--/.well -->
            </div>
            <div class="col-md-9">
                <p style="margin:20px 0 -30px 0">
                    <!--<a href="start.html" target="_blank" style="margin-right: 30px;">入门教程 ( Getting started ) »</a>-->
                    <a href="slide.three.html" target="_blank" style="margin-right: 30px;">threejs快速入门 ( Studying threejs ) »</a>
                </p>
                <div id="doc">
                    <h3>简介<a name="简介"> </a></h3>
                    <p>cartoonjs 致力于构建高性能WEB动画，引导产品设计，提升页面表现力，基础技术积累，提高迭代效率，新技术的创新与实践。</p>
                    <p><b>绘图</b>： 我们提供基于html5 canvas的多种绘图支持，包括多种基础图形（矩形，圆，椭圆，多边形，线段，等多边形），还包括多种图像功能（位图绘制，滤镜操作，混色处理等），通过扩展，我们还能够支持3D图形的绘制。</p>
                    <p><b>动画</b>： 我们支持dom和canvas渲染模式，支持多种动画方式，包括补间动画，时间轴动画，帧动画，骨骼动画，粒子动画，轨迹运动动画等多样式的动画支持，基于事件模型能够快速构建完善的动画系统和交互功能。</p>
                    <p><b>扩展</b>： 我们提供基于物理引擎box2dweb和3d引擎threejs的扩展，通过扩展可以快速创造物理世界和三维世界，也可以实现趣味性的游戏和多维交互体验。</p>
                    
                    <h3>结构设计<a name="结构设计"> </a></h3>
                    <p><img src="images/design0.png" title="结构设计" alt="结构设计"></p>

                    <h3>API设计<a name="API设计"> </a></h3>
                    <p><img src="images/design1.png" title="API设计" alt="API设计"></p>

                    <h3>名词解析<a name="名词解析"> </a></h3>
                    <p>基本名词</p>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody><tr>
                            <th> 名词 </th>
                            <th> 描述 </th>
                        </tr>
                        <tr>
                            <td> bitmap </td>
                            <td> 位图 </td>
                        </tr>
                        <tr>
                            <td> vector </td>
                            <td> 矢量 / 矢量图 </td>
                        </tr>
                        <tr>
                            <td> anchor </td>
                            <td> 锚点 </td>
                        </tr>
                        <tr>
                            <td> scatter </td>
                            <td> 散点图，气泡图。散点图至少需要横纵两个数据，更高维度数据加入时可以映射为颜色或大小，当映射到大小时则为气泡图 </td>
                        </tr>
                    </tbody></table>
                    
                    <h3>模块化引入<a name="模块化引入"> </a></h3>
                    <p>如果你熟悉模块化开发，你的项目本身就是模块化且遵循AMD规范的，那引入cartoonjs将很简单，使用一个符合AMD规范的模块加载器，如<a href="https://github.com/requirejs" target="_blank">requirejs</a>，只需要配置好module path即可，你将享受到按需加载等最大的灵活性，可参考<a href="start.html" target="_blank">demo</a>，你需要配置如下。</p>
                    
                    <div class="code">
                        <pre>require.config({
    paths: {
        'cartoon': 'http://webfx.baidu.com/build/cartoon',
        'cartoon.filters': 'http://webfx.baidu.com/build/cartoon.filters',
        'cartoon.particles': 'http://webfx.baidu.com/build/cartoon.particles',
        'cartoon.box2d': 'http://webfx.baidu.com/build/cartoon.box2d',
        'cartoon.three': 'http://webfx.baidu.com/build/cartoon.three' 
    }
});
</pre>
                    </div>
                    <p>tips：包引入提供了开发阶段最大的灵活性，但并不适合直接上线，减少请求的文件数量是前端性能优化中最基本但很重要的规则，务必在上线时做文件的连接压缩。</p>
                    

                    <h3>初始化<a name="初始化"> </a></h3>
                    <p>通过require获得cartoonjs接口（或者命名空间）后，可以开始构建画布</p>
                    
                    <p>初始化代码如下：</p>
                    <div class="code">
                        <pre>// 作为入口
require([ 'cartoon' ], // 加载模块
    function (ct) {
        ct.setRenderMode('canvas'); //设置渲染模式

        // 构建画布
        var canvas = new ct.Canvas({ elem: '#canvas', width: 400, height: 150 });
        // 构建图形
        var shape = new ct.Shape({
            g: { type: 'rect', width: 100, height: 100, fill: '#f00' } // 生成矩形
        })

        canvas.add(shape); // 添加节点
        canvas.update(); // 刷新画布&绘图
    }
);
</pre>
                    </div>
            
                    <h3>Class<a name="base-class"> </a></h3>
                    <p> 类式继承基类，参考 <a href="http://ejohn.org/blog/simple-javascript-inheritance" target="_blank">simple-javascript-inheritance</a></p>
                    <p><pre>
<code class="html">var Person = Class.extend({
   init: function() {
      console.log('hello!');
   }
});
var Student = Person.extend({
   init: function() {
      this._super();
      console.log('I am a student!');
   }
});
var student = new Student();</code></pre></p>


                    <h3>Ticker<a name="base-ticker"> </a></h3>
                    <p>高频计时器，默认为浏览器渲染帧频（60帧）</p>
                    <p><pre>
<code class="html">var ticker = new Ticker(50);
var onFrame = function(delta) { console.log(delta); }
var updater = { count: 0, update: function() { this.count++; } }
ticker.add(onFrame);
ticker.add(updater);
ticker.start();</code></pre></p>
                    <script>
var ticker;
require(['cartoon'], function(ct){
    ticker = new ct.Ticker();
    ticker.start();
});
                    </script>
                    
                    <h3>EventDispatcher<a name="base-dispatcher"> </a></h3>

                    <h3>Preload<a name="base-preload"> </a></h3>   

                    <h3>Matrix2D<a name="base-matrix"> </a></h3>
                    <p>2D矩阵，参考 <a href="https://github.com/CreateJS/EaselJS/blob/master/src/easeljs/geom/Matrix2D.js" target="_blank">gskinner-Matrix2D</a></p>
                    <p><pre>
<code class="html">var matrix = new Matrix2D();
matrix.append(1, 0, 0, 1, 50, 50);</code></pre></p>
                    
                    <h3>DisplayObject<a name="base-display"> </a></h3>
                    <p>基础显示对象，继承 EventDispatcher，参考 <a href="http://help.adobe.com/zh_CN/FlashPlatform/reference/actionscript/3/flash/display/DisplayObject.html#" target="_blank">as3-DisplayObject</a></p>
                    <h5>Properties</h5>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody>
                        <tr>
                            <th> 属性 </th>
                            <th> 描述 </th>
                            <th> 默认值 </th>
                        </tr>
                        <tr>
                            <td> <b>renderMode</b> </td>
                            <td> 渲染模式 <br> dom模式：0 | "dom" <br>canvas模式：1 | "canvas" </td>
                            <td> 0 </td>
                            <td>  </td>
                        </tr>
                        <tr>
                            <td> <b>x</b> </td>
                            <td> x轴坐标 </td>
                            <td> 0 </td>
                        </tr>
                        <tr>
                            <td> <b>y</b> </td>
                            <td> y轴坐标 </td>
                            <td> 0 </td>
                        </tr>
                        <tr>
                            <td> <b>width</b> </td>
                            <td> 宽度 </td>
                            <td> 0 </td>
                        </tr>
                        <tr>
                            <td> <b>height</b> </td>
                            <td> 高度 </td>
                            <td> 0 </td>
                        </tr>
                        <tr>
                            <td> <b>transform</b> </td>
                            <td> 2d变换 <br> 参见css3 transform </td>
                            <td><pre>{
    translateX: 0, translateY: 0,
    rotate: 0,
    scaleX: 1, scaleY: 1,
    originX: 0.5, originY: 0.5
}                           </pre></td>
                        </tr>
                        <tr>
                            <td> <b>transform3d</b> </td>
                            <td> 3d变换 <br> 参见css3 transform3d </td>
                            <td><pre>{
    perspective: 0, 
    translateX: 0, translateY: 0, translateZ: 0,
    rotateX: 0, rotateY: 0, rotateZ: 0,
    scaleX: 1, scaleY: 1, scaleZ: 1,
    originX: 0.5, originY: 0.5
}                           </pre></td>
                          <tr>
                            <td> <b>alpha</b> </td>
                            <td> 透明度 </td>
                            <td> 1 </td>
                        </tr>  
                    </tbody></table>
                    <h5>Methods</h5>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody><tr>
                            <th> 方法 </th>
                            <th> 描述 </th>
                            <th> 示例 </th>
                            <th> 查看效果 </th>
                        </tr>
                        <tr>
                            <td> <b>add</b> </td>
                            <td> 添加子节点 </td>
                            <td><pre>
displayObj.add(child);
displayObj.add(child, 'tag'); // 添加时进行标签标记
                            </pre></td>
                            <td> <input type="button" value="查看"> </td>
                        </tr>
                        <tr>
                            <td> <b>remove</b> </td>
                            <td> 移除子节点 </td>
                            <td><pre>
displayObj.remove(child);
displayObj.remove('tag'); // 移除标签标记的节点
displayObj.removeAll(); // 移除所有子节点
                            </pre></td>
                            <td> <input type="button" value="查看"> </td>
                        </tr>
                        <tr>
                            <td> <b>each</b> </td>
                            <td> 遍历子节点 </td>
                            <td><pre>
diplayObj.each(function(child, index){
	console.log(child, index);
});
                            </pre></td>
                            <td> <input type="button" value="查看"> </td>
                        </tr>
                        <tr>
                            <td> <b>style</b> </td>
                            <td> 设置样式 </td>
                            <td><pre>diplayObj.style('x', 100);
diplayObj.style('transform', { scale: 3 });
diplayObj.style({ // 批量设置样式
    'y': 100, 'alpha': 0.8, 
    'transform': { rotate: 45 }
}); 
                            </pre></td>
                            <td> <input type="button" value="查看"> </td>
                        </tr>
                    </tbody></table>
                    <p><pre>
<code class="html">var displayObj = new DisplayObject({
   renderMode: 0,
   elem: document.getElementById('box'),
   x: 300, y: 150, width: 100, height: 100
});</code></pre></p>

                    
                    <h3>Container<a name="base-dom"> </a></h3>
                    <p>dom容器，继承 DisplayObject，处理子对象的事件响应</p>
                    
                    <h3>Canvas<a name="base-canvas"> </a></h3>
                    <p>canvas容器，继承 DisplayObject，处理子对象的事件响应</p>
                    
                    <h3>GLCanvas<a name="base-webgl"> </a></h3>
                    <p>webgl容器，继承 DisplayObject，处理子对象的事件响应</p>

                    <h3>Shape<a name="base-shape"> </a></h3>
                    <p>基础图形对象，继承 DisplayObject，参照 <a href="http://www.w3school.com.cn/svg/svg_rect.asp" target="_blank">svg-shapes</a></p>
                    <p><pre>
<code class="html">var rect = new Shape({
   graphics: { type: 'rect', fill: 'red', width: 100, height: 100 }
});
var circle = = new Shape({
   g: { type: 'circle', fill: 'images/sun.png', radius: 50 }
});
var newShape = new Shape({
   graphics: { 
    init: function(data) {}, 
    draw: function(ctx) {} 
   }
});</code></pre></p>  
                    <canvas id="cvs-shape"></canvas>
                    <script>
require(['cartoon'], function(ct){
    ct.setRenderMode('canvas');

    var canvas = new ct.Canvas({
        elem: '#cvs-shape', width: 850, height: 150
    });
    var rect = new ct.Shape({
        g: { type: 'rect', fill: 'top,#8AF,#248', width: 100, height: 100 }
    });
    var circle = new ct.Shape({
        x: 110, y: 2,
        g: { type: 'circle', fill: 'top,#F00,#FF0', radius: 50, angle: 300 }
    });
    var ellipse = new ct.Shape({
        x: 220, y: 2,
        g: { type: 'ellipse', stroke: '#242', fill: '#4DF', radius: { x: 30, y: 60 } }
    });
    var line = new ct.Shape({
        x: 290, y: 2,
        g: { type: 'line', stroke: '#F00',
            path: [[0, 50], [10, 50], [20, 0], [30, 70], [40, 30], [50, 90], [60, 50], [70, 50], [80, 20], [90, 50], [100, 50]]}
    });
    var ploygon = new ct.Shape({
        x: 350, y: 2,
        g: { type: 'ploygon', stroke: '#00F', fill: 'images/mali.jpg',
            path: [[0, 100], [60, 70], [60, 30], [100, 0], [120, 120]]}
    });
    var star = new ct.Shape({
        x: 470, y: 2,
        g: { type: 'polyStar', stroke: '#FD8', fill: 'top,#FD8,#333',
            radius: 60, sides: 6 }
    });
    var star1 = new ct.Shape({
        x: 580, y: 2,
        g: { type: 'polyStar', stroke: '#FF0', fill: '#F00',
            radius: 60, sides: 5, cohesion: 0.4 }
    });
    var lines = new ct.Shape({
        x: 690, y: 2,
        g: { type: 'lines', stroke: '#444',
            paths: [[[0, 100], [130, 100]],
                    [[100, 0], [100, 130]],
                    [[90, 5], [90, 60, 60, 90, 5, 90]],
                    [[80, 10], [120, 120, 10, 80]]
            ]}
    });
    canvas.add(rect).add(circle).add(ellipse).add(line);
    canvas.add(ploygon).add(star).add(star1).add(lines);
    canvas.update();
    setTimeout(function(){
        canvas.update();
    }, 200);
});
                    </script>
        
                    <h3>Bitmap<a name="base-bitmap"> </a></h3>
                    <p>位图，滤镜，继承 DisplayObject</p>
                    <p><pre>
<code class="html">var bmp = new Bitmap({
    image: 'images/logo.png', sourceRect: [0, 0, 120, 30]
});</code></pre></p>
                    <canvas id="cvs-bitmap"></canvas>
                    <script>
require(['cartoon', 'cartoon.filters'], function(ct){
    ct.setRenderMode('canvas');

    var canvas = new ct.Canvas({
        elem: '#cvs-bitmap', width: 850, height: 150
    });
    var bmp0 = new ct.Bitmap({
        x: 0, y: 0, image: 'images/mali.jpg',
        sourceRect: [ 110,70, 160, 150 ]
    });
    var bmp1 = new ct.Bitmap({
        x: 200, y: 0, image: 'images/mali.jpg',
        sourceRect: [ 110,70, 160, 150 ]
    });
    var bmp2 = new ct.Bitmap({
        x: 400, y: 0, image: 'images/mali.jpg',
        sourceRect: [ 110,70, 160, 150 ]
    });
    var bmp3 = new ct.Bitmap({
        x: 600, y: 0, image: 'images/mali.jpg',
        sourceRect: [ 110,70, 160, 150 ]
    });
    canvas.add(bmp0).add(bmp1).add(bmp2).add(bmp3);
    canvas.update();
    setTimeout(function(){
        bmp1.applyFilter('grayscale');
        bmp2.applyFilter('impression');
        bmp3.applyFilter('rilievo');
        canvas.update();
    }, 200);
});               
                    </script>

                    <h3>Text<a name="base-text"> </a></h3>
                    <p>文本，继承 DisplayObject</p>
                    <p><pre>
<code class="html">var txt = new Text({
   text: 'Hello World', font: '20px Arail', color: 'red'
});</code></pre></p>
                    <canvas id="cvs-text"></canvas>
                    <script>
require(['cartoon'], function(ct){
    var canvas = new ct.Canvas({
        elem: '#cvs-text',
        width: 850, height: 150
    });
    var txt = new ct.Text({
        renderMode: 'canvas', x: 320, y:50,
        text: 'Just Do IT !', font: '40px 微软雅黑', color: 'red'
    });
    canvas.add(txt);
    canvas.update();
});               
                    </script>
        
                    <h3>Tween<a name="base-tween"> </a></h3>
                    <p>补间动画</p>
                    <p><pre>
<code class="html">displayObj.to({ x: 350, transform: { rotate: 45 }, alpha: 0.2 }, 300, 'linear')
          .to({ y: 150, transform: { scale: 1.5 }, alpha: 1 }, 300, 'easeIn');</code></pre></p>
                    <canvas id="cvs-tween"></canvas>
                    <script>
require(['cartoon'], function(ct){
    ct.setRenderMode('canvas');
    var canvas = new ct.Canvas({
        elem: document.getElementById('cvs-tween'),
        width: 850, height: 150
    });
    var rect = new ct.DisplayObject({
        x: 5, y: 25, width: 100, height: 100 
    });
    var shape = new ct.Shape({
        g: { type: 'rect', fill: '#F00', width: 100, height: 100, stroke: '#000' }
    }); 
    rect.add(shape);
    rect.add(new ct.Text({ x: 30, y: 30, text: '点我' }));
    rect.on('click', function(){
        rect.to({ x: 300 }, 600, 'easeOut')
            .to({ x: 700 }, 600, 'easeIn')
            .to({ transform: { scale: 0.5, rotate: 360 }}, 1000, 'backOut')
            .to({ transform: { scale: 1, rotate: 0 }}, 1000, 'backIn')
            .to({ x: 5 }, 1000, 'bounceOut');
        shape.to({alpha: 0.2, fill: '#0FF' }, 600, 'easeOut')
            .to({ alpha: 1, fill: '#F0F' }, 600, 'easeIn')
            .to(1000)
            .to(1000)
            .to({ fill: '#F00' }, 1000, 'bounceOut');
    
    });
    canvas.add(rect);
    
    ticker.add(ct.Tween);
    ticker.add(canvas);
});               
                    </script>

                    
                    <h3>Timeline<a name="base-timeline"> </a></h3>
                    <p>时间轴动画</p>
                    <p><pre>
<code class="html">var timeline = new Timeline({ loop: true });
timeline.get(circle).addKeyframe({ x: 0 }, 0).addKeyframe({ x: 300 }, 300);
timeline.get(rect).addKeyframe({ x: 300 }, 0).addKeyframe({ x: 0 }, 300);</code>
        </pre></p>
        <div><canvas id="cvs-line"></canvas>
          <script>
require(['cartoon'], function(ct){
    ct.setRenderMode('canvas');

    var canvas = new ct.Canvas({
        elem: document.getElementById('cvs-line'),
        width: 850, height: 150
    });
    var circle = new ct.Shape({
        g: { type: 'circle', radius: 50, fill: '#F00' }
    });
    var rect = new ct.Shape({
        g: { type: 'rect', width: 60, height: 60, fill: '#00F' }
    });
    canvas.add(circle);
    canvas.add(rect);

    var timeline = new ct.Timeline({ loop: true });
    timeline.get(rect)
            .addKeyframe({ x: 0, y: 40 }, 0)
            .addKeyframe({ x: 700, y: 40, transform: { rotate: 720 } }, 3000)
            .addKeyframe({ x: 0, transform: { rotate: 0 } }, 6000);
    timeline.get(circle)
            .addKeyframe({ x: 700, y: 20, transform: { scale: 2 }, angle: 360 }, 0)
            .addKeyframe({ x: 700, y: 20, transform: { scale: 0.2 }, angle: 90  }, 3000)
            .addKeyframe({ transform: { scale: 2 }, angle: 360  }, 6000);
    
    ticker.add(timeline);
    ticker.add(canvas);
});               
                    </script>
                    
                    <h3>Movement<a name="base-movement"> </a></h3>

                    <h3>Sprite<a name="base-sprite"> </a></h3>
                    <p>精灵，帧动画，继承 DisplayObject</p>
                    <p><pre>
<code class="html">var sprite = new Sprite({
   spriteSheet: {
      frames: { width: 60, height: 120, num: 64, cols: 12, rows: 6 },
      animations: { jump: [26, 63, 'run', 0], run: [0, 25, 'run', 0] },
      images: [ 'images/runner.png' ]
   }
});</code></pre></p>
                    <canvas id="cvs-sripte"></canvas>
                    <script>
require(['cartoon'], function(ct){
    var canvas = new ct.Canvas({
        elem: document.getElementById('cvs-sripte'),
        width: 850, height: 150
    });
    var sprite = new ct.Sprite({
        renderMode: 1,
        x: 0, y: 0,
        transform: { scale: 0.5, originY: 0 },
        spriteSheet: {
            frames: { width: 165, height: 292, cols: 12, rows: 6, num: 64, img: 0 },
            animations: { jump: [26, 63, 'run', 1100], run: [0, 25, 'run', 800] },
            images: [ 'images/runningGrant.png' ]
        }
    });
    sprite.play('run');
    canvas.add(sprite);
    
    ticker.add(sprite);
    ticker.add(function(delta){
        var dis = 0.15*delta;
        if (sprite.x > 850) {
            sprite.style('x', -165);
        } else {
            sprite.style('x', sprite.x+dis);
            if (sprite.x>400 && sprite.x<420 && sprite.animationName !== 'jump') {
                sprite.play('jump');
            }
        }
    });
    ticker.add(canvas);
});               
                    </script>

                    <h3>ParticleSystem<a name="base-particle"> </a></h3>
                    <p>粒子动画，继承 DisplayObject</p>
                    <p><pre>
<code class="html">var particles = new ParticleSystem({
   particle: {
      type: 'rain', width: 850, height: 150 
   }
});</code></pre></p>
                    <canvas id="cvs-particle"></canvas>
                    <script>
require(['cartoon', 'cartoon.particles'], function(ct, particles){
    ct.setRenderMode('canvas');

    var canvas = new ct.Canvas({
        elem: '#cvs-particle',
        width: 850, height: 150
    });
    var background = new ct.Shape({
        g: {
            type: 'rect', width: 850, height: 150, fill: 'top,#6666DD,#AAAAFF'
        }
    });
    var particles = new ct.ParticleSystem({
        p: {
            type: 'rain', width: 850, height: 150
        }
    });
    canvas.add(background);
    canvas.add(particles);
        
    ticker.add(canvas);
});
                    </script>
                    
                    <h3>SkeletalAnimation<a name="base-skeletal"> </a></h3>

                    <h3>PhysicsWorld<a name="base-physics"> </a></h3>

                    <!--  Object3D  -->
                    <h3>Object3D<a name="base-obj3d"> </a></h3>
                    <p>3D显示对象基类</p>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody><tr>
                            <th> 属性 </th>
                            <th> 名称 </th>
                            <th> 默认值 </th>
                            <th> 描述 </th>
                        </tr>
                        <tr>
                            <td> <b>position</b> </td>
                            <td> 位置 </td>
                            <td> THREE.Vector3 </td>
                            <td> { x: 0, y: 0, z: 0 } </td>
                        </tr>
                        <tr>
                            <td> <b>rotation</b> </td>
                            <td> 旋转 </td>
                            <td> THREE.Vector3 </td>
                            <td> { x: 0, y: 0, z: 0 } </td>
                        </tr>
                        <tr>
                            <td> <b>scale</b> </td>
                            <td> 缩放 </td>
                            <td> THREE.Vector3 </td>
                            <td> { x: 0, y: 0, z: 0 } </td>
                        </tr>
                        <tr>
                            <td> <b>geometry</b> </td>
                            <td> 几何图形 </td>
                            <td> THREE.Geometry </td>
                            <td> 参见 <a href="#geometry">geometry</a> </td>
                        </tr>
                        <tr>
                            <td> <b>material</b> </td>
                            <td> 材质 </td>
                            <td> THREE.Material </td>
                            <td> 参见 <a href="#geometry">material</a> </td>
                        </tr>
                    </tbody></table>                  
                    <p><pre>
<code class="html">var group = new Object3D();
group.style({ x: 100, rotateX: 0.5 });

var box = ct.Object3D.create({
    geometry: { type: 'box', size: [2, 2, 2] },
    material: { type: 'basic', wireframe: true }
});</code></pre></p>
                    <canvas id="cvs-obj3d"></canvas>
                    <script>
require(['cartoon', 'cartoon.three'], function(ct){
    var canvas = new ct.GLCanvas({
        elem: document.getElementById('cvs-obj3d'),
        width: 850, height: 150
    });
    var group = new ct.Object3D();
    
    var box = ct.Object3D.create({
        g: { type: 'box', size: [2, 2, 2] },
        m: { type: 'basic', wireframe: true }
    });
    box.style('x', 2);
    group.add(box);
    canvas.add(group);
    canvas.camera.position.z = 4;

    ticker.add(function() {
        group.rotation.y += 0.01;
    });
    ticker.add(canvas);
});
                    </script>

                    <h3>graphics<a name="graphics"> </a></h3>
                    <p>Shape 初始化图形参数</p>
                    <p><pre>
<code class="html">var graphics0 = {
    type: 'rect', width: 100, height: 20, fill: 'top,#0f3d8e,d83e5f'
};
var graphics1 = {
    type: 'circle', radius: 40, fill: 'images/logo.png'
};
var graphics2 = {
    type: 'line', path: [[0, 0], [100, 50]], stroke: 'rgb(255, 0, 0)'
};
new Shape({ g: graphics0 }); // 参数可缩写
new Shape({ graphics: graphics2 });</code></pre></p>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody><tr>
                            <th> 属性 </th>
                            <th> 名称 </th>
                            <th> 默认值 </th>
                            <th> 描述 </th>
                        </tr>
                        <tr>
                            <td> <b>type</b> </td>
                            <td> 图形类型 </td>
                            <td> 0 </td>
                            <td> 参见 <a href="#graphics-rect">rect（矩形）</a>，<a href="#graphics-circle">circle（圆）</a>，<a href="#graphics-line">line（线）</a>，<a href="#graphics-ploygon">ploygon（多边形）</a></td>
                        </tr>
                        <tr>
                            <td> <b>fill</b> </td>
                            <td> 填充样式 </td>
                            <td> null </td>
                            <td> 参见 fillColor, fillGradient, fillImage </td>
                        </tr>
                        <tr>
                            <td> <b>fillColor</b> </td>
                            <td> 填充色 </td>
                            <td> 0 </td>
                            <td>  </td>
                        </tr>
                        <tr>
                            <td> <b>fillGradient</b> </td>
                            <td> 填充渐变 </td>
                            <td> 0 </td>
                            <td>  </td>
                        </tr>
                        <tr>
                            <td> <b>fillImage</b> </td>
                            <td> 填充图片 </td>
                            <td> 0 </td>
                            <td>  </td>
                        </tr>
                        <tr>
                            <td> <b>stroke</b> </td>
                            <td> 描线样式 </td>
                            <td> null </td>
                            <td> 参见 strokeColor </td>
                        </tr>
                        <tr>
                            <td> <b>strokeColor</b> </td>
                            <td> 描线色 </td>
                            <td> null </td>
                            <td>  </td>
                        </tr>
                        <tr>
                            <td> <b>lineWidth</b> </td>
                            <td> 描线宽度 </td>
                            <td> 1 </td>
                            <td>  </td>
                        </tr>  
                    </tbody></table>

                    
                    <h3>geometry<a name="geometry"> </a></h3>
                    <p>Object3D 初始化图形参数</p>
                    <p><pre>
<code class="html">var geometry0 = {
    type: 'plane', width: 100, height: 20
};
var geometry1 = {
    type: 'box', size: [ 50, 80, 50 ]
};
var geometry2 = {
    type: 'sphere', radius: 30, segment: 27
};
Object3D.create({ g: geometry0, m: material }); // 参数可缩写
Object3D.create({ graphics: geometry2, material: material });</code></pre></p>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody><tr>
                            <th> 属性 </th>
                            <th> 名称 </th>
                            <th> 默认值 </th>
                            <th> 描述 </th>
                        </tr>
                        <tr>
                            <td> <b>type</b> </td>
                            <td> 图形类型 </td>
                            <td> 0 </td>
                            <td> 参见 <a href="#geometry-plane">plane（平面）</a>，<a href="#geometry-circle">circle（圆）</a>，<a href="#geometry-line">box（立方体）</a>，<a href="#geometry-sphere">sphere（球体）</a></td>
                        </tr> 
                    </tbody></table>
                    <canvas id="cvs-geometry"></canvas>
                    <script>
require(['cartoon', 'cartoon.three'], function(ct){
    var canvas = new ct.GLCanvas({
        elem: '#cvs-geometry',
        width: 850, height: 150
    });
    var material = { type: 'basic', wireframe: true };
    var geometry0 = {
        type: 'plane', width: 100, height: 20
    };
    var geometry1 = {
        type: 'box', size: [ 50, 80, 50 ]
    };
    var geometry2 = {
        type: 'sphere', radius: 30, segment: 9
    };
    var geometry3 = {
        type: 'ring', radius: 30, width: 20, segment: 18
    };
    var geometry4 = {
        type: 'cylinder', radius: 30, tube: 80
    };
    var obj0 = ct.Object3D.create({ g: geometry0, m: material });
    var obj1 = ct.Object3D.create({ g: geometry1, m: material });
    var obj2 = ct.Object3D.create({ g: geometry2, m: material });
    var obj3 = ct.Object3D.create({ g: geometry3, m: material });
    var obj4 = ct.Object3D.create({ g: geometry4, m: material });
    obj1.style('x', -100);
    obj2.style('x', 100);
    obj3.style('x', 200);
    obj4.style('x', -200);
    canvas.add(obj0).add(obj1).add(obj2).add(obj3).add(obj4);
    
    canvas.camera.position.set(0,0,150);
    ticker.add(function(delta){
        
    });
    ticker.add(canvas);
});               
                    </script>


                    <h3>material<a name="material"> </a></h3>
                    <p>Object3D 初始化材质参数</p>
                    <p><pre>
<code class="html">var material0 = {
    type: 'basic', wireframe: true
};
var material1 = {
    type: 'basic', color: 0xff0000
};
var material2 = {
    type: 'lambert', color: 0x0000ff
};
var material3 = {
    type: 'phong', color: 0x888888, shininess: 100, reflectivity: 2
};
Object3D.create({ g: geometry, m: material0 }); // 参数可缩写
Object3D.create({ graphics: geometry, material: material2 });</code></pre></p>
                    <table cellspacing="0" class="ADoc_table full">
                        <tbody><tr>
                            <th> 属性 </th>
                            <th> 名称 </th>
                            <th> 默认值 </th>
                            <th> 描述 </th>
                        </tr>
                        <tr>
                            <td> <b>type</b> </td>
                            <td> 图形类型 </td>
                            <td> 0 </td>
                            <td> 参见 <a href="#material-basic">basic（普通材质）</a>，<a href="#material-lambert">lambert（接受光源材质，如木头石头）</a>，<a href="#geometry-phong">phong（反射光源材质，如塑料金属）</a>，<a href="#geometry-shader">shader（自定义着色器材质）</a></td>
                        </tr>
                        <tr>
                            <td> <b>color</b> </td>
                            <td> 颜色 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>ambient</b> </td>
                            <td> 环境光色 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>emissive</b> </td>
                            <td> 发射光色 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>specular</b> </td>
                            <td> 镜面反射光色 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>shininess</b> </td>
                            <td> 自发光强度 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>transparent</b> </td>
                            <td> 开启透明 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>opacity</b> </td>
                            <td> 透明度 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>color</b> </td>
                            <td> 颜色 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>reflectivity</b> </td>
                            <td> 反射率 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>shading</b> </td>
                            <td> 投影模式 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                        <tr>
                            <td> <b>blending</b> </td>
                            <td> 混色模式 </td>
                            <td> </td>
                            <td> </td>
                        </tr>
                    </tbody></table>
                    <canvas id="cvs-material"></canvas>
                    <script>
require(['cartoon', 'cartoon.three'], function(ct){
    var canvas = new ct.GLCanvas({
        elem: '#cvs-material',
        width: 850, height: 150
    });
    var geometry = { type: 'sphere', radius: 8 };
    var material0 = {
	    type: 'basic', wireframe: true
	};
	var material1 = {
	    type: 'basic', color: 0xff0000
	};
	var material2 = {
	    type: 'lambert', color: 0x0000ff
	};
	var material3 = {
	    type: 'phong', color: 0x888888, shininess: 100, reflectivity: 2
	};
    var obj0 = ct.Object3D.create({ g: geometry, m: material0 });
    var obj1 = ct.Object3D.create({ g: geometry, m: material1 });
    var obj2 = ct.Object3D.create({ g: geometry, m: material2 });
    var obj3 = ct.Object3D.create({ g: geometry, m: material3 });
    var light = ct.Object3D.createLight({
    	type: 'direct', color: 0xffffcc, debug: true, intensity: 2
    });
    obj1.style('x', -30);
    obj2.style('x', 30);
    obj3.style('x', -60);
    light.style('y', 10);

    canvas.add(light).add(obj0).add(obj1).add(obj2).add(obj3);
    canvas.camera.position.set(0,0,30);

    var t = 0, l = 15;
    ticker.add(function(delta){
        t += 0.01;
        light.style({ x: Math.sin(t)*l, z: Math.cos(t)*l+l })
    });
    ticker.add(canvas);
});               
                    </script>                    
                    
                    <!--<p> 内容格式器formatter：<a href="example/tooltip.html" target="_blank">try this »</a></p>
                    <ul>
                        <li>
                            <b>{string}</b>，模板（Template），其变量为：
                            <ul>
                                <li>{a} | {a0}</li>
                                <li>{b} | {b0}</li>
                                <li>{c} | {c0}</li>
                                <li>{d} | {d0} （部分图表类型无此项）</li>
                                <li>{e} | {e0} （部分图表类型无此项）</li>
                                <li> 多值下则存在多套{a1}, {b1}, {c1}, {d1}, {a2}, {b2}, {c2}, {d2}, ...</li>
                                <li> 其中变量a、b、c、d在不同图表类型下代表数据含义为：
                                    <ul>
                                        <li><b>折线（区域）图</b>、<b>柱状（条形）图、<b>K线图</b></b> : a（系列名称），b（类目值），c（数值）, d（无）</li>
                                        <li><b>散点图（气泡）图</b> : a（系列名称），b（数据名称），c（数值数组）, d（无）</li>
                                        <li><b>地图</b> : a（系列名称），b（区域名称），c（合并数值）, d（无）</li>
                                        <li><b>饼图</b>、<b>雷达图</b>、<b>仪表盘</b>、<b>漏斗图</b>: a（系列名称），b（数据项名称），c（数值）, d（饼图：百分比 | 雷达图：指标名称）</li>
                                        <li><b>力导向图, 和弦图</b> : 
                                            <ul>
                                                <li>节点 : a（系列名称），b（节点名称），c（节点值）, d(节点类目索引)</li>
                                                <li>边 : a（系列名称），b（边名称，默认为源名称-目标名称），c（边权重）, d(源节点name或者index), e(目标节点name或者index)</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <b>{Function}</b>，传递参数列表如下：
                            <ul>
                                <li>&lt;Array&gt; params : 数组内容同模板变量，<pre>[
    {
        
        seriesIndex: 0,
        seriesName: '一周销量',
        name: '周一',
        dataIndex: 0,
        data: data,
        name: name,
        value: value,
        percent: special,       // 饼图
        indicator: special,     // 雷达图、力导向、和弦
        value2: special2,       // 力导向、和弦
        indicator2: special2    // 力导向、和弦
    },
    {..},
    ...
]
</pre></li>
                                <li>&lt;String&gt; ticket : 异步回调标识</li>
                                <li>&lt;Function&gt; callback : 异步回调，回调时需要两个参数，第一个为前面提到的ticket，第二个为填充内容html</li>
                                <li><i>*函数回调时this指针指向当前图表实例（myChart）</i></li>
                            </ul>
                        </li>
                    </ul>-->
                </div>
            </div>
        </div>
    </div><!--/.fluid-container-->

    <!-- FOOTER -->
    <footer id="footer" style="margin-top: 50px;">
    	<div class="container">
    		<div class="row" style="padding-bottom:20px;">
    			<div class="col-md-3">
    				<p>友情链接</p>
    				<ul>
    					<li><a href="http://echarts.baidu.com/" target="_blank">Echarts</a></li>
    					<li><a href="http://efe.baidu.com" target="_blank">Baidu EFE</a></li>
    				</ul>
    			</div>
    			<div class="col-md-3">
    				<p>更多</p>
    				<ul>
    					<li><a href="http://gitlab.baidu.com/chenrui09/cartoonjs" target="_blank">Gitlab</a></li>
    				</ul>
    			</div>
    			<div class="col-md-3">
    				<p>联系我们</p>
    				<ul>
    					<li><a href="http://fe.baidu.com/" target="_blank">http://fe.baidu.com/</a></li>
    				</ul>
    			</div>
    			<div class="col-md-3 flogo">
    				<!--<a href="javascript:void(0)" onclick="back2Top()" title="回到顶部"><img src="" alt=""></a>-->
    			</div>
    		</div>
    		<p class="pull-right">
    			<a href="javascript:void(0)" onclick="back2Top()">Back to top</a></p><p>© 2014 <a href="http://www.baidu.com/" target="_blank">Baidu</a>
    		</p>
    	</div>
    </footer>
    
    <script src="js/libs/jquery-1.11.1.min.js"></script>
    <script src="js/libs/bootstrap.min.js"></script>
    <script src="js/home.js"></script>
    <script src="js/conf.js"></script>
    <script src="js/doc.js"></script>

</div></body></html>